/*!
* @license EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}i.prototype=e.prototype;return t.prototype=new i};this.createjs=this.createjs||{};createjs.promote=function(t,e){"use strict";var i=t.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(r){i[(e+="_")+"constructor"]=r.constructor;for(var s in r){if(i.hasOwnProperty(s)&&typeof r[s]=="function"){i[e+s]=r[s]}}}return t};this.createjs=this.createjs||{};createjs.indexOf=function(t,e){"use strict";for(var i=0,r=t.length;i<r;i++){if(e===t[i]){return i}}return-1};this.createjs=this.createjs||{};(function(){"use strict";function t(){throw"UID cannot be instantiated"}t._nextID=0;t.get=function(){return t._nextID++};createjs.UID=t})();this.createjs=this.createjs||{};createjs.deprecate=function(e,i){"use strict";return function(){var t="Deprecated property or method '"+i+"'. See docs for info.";console&&(console.warn?console.warn(t):console.log(t));return e&&e.apply(this,arguments)}};this.createjs=this.createjs||{};(function(){"use strict";function t(t,e,i){this.type=t;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!e;this.cancelable=!!i;this.timeStamp=(new Date).getTime();this.defaultPrevented=false;this.propagationStopped=false;this.immediatePropagationStopped=false;this.removed=false}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&true};e.stopPropagation=function(){this.propagationStopped=true};e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=true};e.remove=function(){this.removed=true};e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)};e.set=function(t){for(var e in t){this[e]=t[e]}return this};e.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=t})();this.createjs=this.createjs||{};(function(){"use strict";function t(){this._listeners=null;this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener;t.on=e.on;t.removeEventListener=t.off=e.removeEventListener;t.removeAllEventListeners=e.removeAllEventListeners;t.hasEventListener=e.hasEventListener;t.dispatchEvent=e.dispatchEvent;t._dispatchEvent=e._dispatchEvent;t.willTrigger=e.willTrigger};e.addEventListener=function(t,e,i){var r;if(i){r=this._captureListeners=this._captureListeners||{}}else{r=this._listeners=this._listeners||{}}var s=r[t];if(s){this.removeEventListener(t,e,i)}s=r[t];if(!s){r[t]=[e]}else{s.push(e)}return e};e.on=function(t,e,i,r,s,a){if(e.handleEvent){i=i||e;e=e.handleEvent}i=i||this;return this.addEventListener(t,function(t){e.call(i,t,s);r&&t.remove()},a)};e.removeEventListener=function(t,e,i){var r=i?this._captureListeners:this._listeners;if(!r){return}var s=r[t];if(!s){return}for(var a=0,n=s.length;a<n;a++){if(s[a]==e){if(n==1){delete r[t]}else{s.splice(a,1)}break}}};e.off=e.removeEventListener;e.removeAllEventListeners=function(t){if(!t){this._listeners=this._captureListeners=null}else{if(this._listeners){delete this._listeners[t]}if(this._captureListeners){delete this._captureListeners[t]}}};e.dispatchEvent=function(t,e,i){if(typeof t=="string"){var r=this._listeners;if(!e&&(!r||!r[t])){return true}t=new createjs.Event(t,e,i)}else if(t.target&&t.clone){t=t.clone()}try{t.target=this}catch(t){}if(!t.bubbles||!this.parent){this._dispatchEvent(t,2)}else{var s=this,a=[s];while(s.parent){a.push(s=s.parent)}var n,h=a.length;for(n=h-1;n>=0&&!t.propagationStopped;n--){a[n]._dispatchEvent(t,1+(n==0))}for(n=1;n<h&&!t.propagationStopped;n++){a[n]._dispatchEvent(t,3)}}return!t.defaultPrevented};e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])};e.willTrigger=function(t){var e=this;while(e){if(e.hasEventListener(t)){return true}e=e.parent}return false};e.toString=function(){return"[EventDispatcher]"};e._dispatchEvent=function(t,e){var i,r,s=e<=2?this._captureListeners:this._listeners;if(t&&s&&(r=s[t.type])&&(i=r.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=e|0}catch(t){}t.removed=false;r=r.slice();for(var a=0;a<i&&!t.immediatePropagationStopped;a++){var n=r[a];if(n.handleEvent){n.handleEvent(t)}else{n(t)}if(t.removed){this.off(t.type,n,e==1);t.removed=false}}}if(e===2){this._dispatchEvent(t,2.1)}};createjs.EventDispatcher=t})();this.createjs=this.createjs||{};(function(){"use strict";function a(){throw"Ticker cannot be instantiated."}a.RAF_SYNCHED="synched";a.RAF="raf";a.TIMEOUT="timeout";a.timingMode=null;a.maxDelta=0;a.paused=false;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._addEventListener=a.addEventListener;a.addEventListener=function(){!a._inited&&a.init();return a._addEventListener.apply(a,arguments)};a._inited=false;a._startTime=0;a._pausedTime=0;a._ticks=0;a._pausedTicks=0;a._interval=50;a._lastTime=0;a._times=null;a._tickTimes=null;a._timerId=null;a._raf=true;a._setInterval=function(t){a._interval=t;if(!a._inited){return}a._setupTick()};a.setInterval=createjs.deprecate(a._setInterval,"Ticker.setInterval");a._getInterval=function(){return a._interval};a.getInterval=createjs.deprecate(a._getInterval,"Ticker.getInterval");a._setFPS=function(t){a._setInterval(1e3/t)};a.setFPS=createjs.deprecate(a._setFPS,"Ticker.setFPS");a._getFPS=function(){return 1e3/a._interval};a.getFPS=createjs.deprecate(a._getFPS,"Ticker.getFPS");try{Object.defineProperties(a,{interval:{get:a._getInterval,set:a._setInterval},framerate:{get:a._getFPS,set:a._setFPS}})}catch(t){console.log(t)}a.init=function(){if(a._inited){return}a._inited=true;a._times=[];a._tickTimes=[];a._startTime=a._getTime();a._times.push(a._lastTime=0);a.interval=a._interval};a.reset=function(){if(a._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(a._timerId)}else{clearTimeout(a._timerId)}a.removeAllEventListeners("tick");a._timerId=a._times=a._tickTimes=null;a._startTime=a._lastTime=a._ticks=a._pausedTime=0;a._inited=false};a.getMeasuredTickTime=function(t){var e=0,i=a._tickTimes;if(!i||i.length<1){return-1}t=Math.min(i.length,t||a._getFPS()|0);for(var r=0;r<t;r++){e+=i[r]}return e/t};a.getMeasuredFPS=function(t){var e=a._times;if(!e||e.length<2){return-1}t=Math.min(e.length-1,t||a._getFPS()|0);return 1e3/((e[0]-e[t])/t)};a.getTime=function(t){return a._startTime?a._getTime()-(t?a._pausedTime:0):-1};a.getEventTime=function(t){return a._startTime?(a._lastTime||a._startTime)-(t?a._pausedTime:0):-1};a.getTicks=function(t){return a._ticks-(t?a._pausedTicks:0)};a._handleSynch=function(){a._timerId=null;a._setupTick();if(a._getTime()-a._lastTime>=(a._interval-1)*.97){a._tick()}};a._handleRAF=function(){a._timerId=null;a._setupTick();a._tick()};a._handleTimeout=function(){a._timerId=null;a._setupTick();a._tick()};a._setupTick=function(){if(a._timerId!=null){return}var t=a.timingMode;if(t==a.RAF_SYNCHED||t==a.RAF){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e){a._timerId=e(t==a.RAF?a._handleRAF:a._handleSynch);a._raf=true;return}}a._raf=false;a._timerId=setTimeout(a._handleTimeout,a._interval)};a._tick=function(){var t=a.paused;var e=a._getTime();var i=e-a._lastTime;a._lastTime=e;a._ticks++;if(t){a._pausedTicks++;a._pausedTime+=i}if(a.hasEventListener("tick")){var r=new createjs.Event("tick");var s=a.maxDelta;r.delta=s&&i>s?s:i;r.paused=t;r.time=e;r.runTime=e-a._pausedTime;a.dispatchEvent(r)}a._tickTimes.unshift(a._getTime()-e);while(a._tickTimes.length>100){a._tickTimes.pop()}a._times.unshift(e);while(a._times.length>100){a._times.pop()}};var t=window,e=t.performance.now||t.performance.mozNow||t.performance.msNow||t.performance.oNow||t.performance.webkitNow;a._getTime=function(){return(e&&e.call(t.performance)||(new Date).getTime())-a._startTime};createjs.Ticker=a})();this.createjs=this.createjs||{};(function(){"use strict";function t(t){this.readyState=t.readyState;this._video=t;this._canvas=null;this._lastTime=-1;if(this.readyState<2){t.addEventListener("canplaythrough",this._videoReady.bind(this))}}var e=t.prototype;e.getImage=function(){if(this.readyState<2){return}var t=this._canvas,e=this._video;if(!t){t=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.width=e.videoWidth;t.height=e.videoHeight}if(e.readyState>=2&&e.currentTime!==this._lastTime){var i=t.getContext("2d");i.clearRect(0,0,t.width,t.height);i.drawImage(e,0,0,t.width,t.height);this._lastTime=e.currentTime}return t};e._videoReady=function(){this.readyState=2};createjs.VideoBuffer=t})();this.createjs=this.createjs||{};(function(){"use strict";function t(t,e,i,r,s,a,n,h,o,u,l){this.Event_constructor(t,e,i);this.stageX=r;this.stageY=s;this.rawX=o==null?r:o;this.rawY=u==null?s:u;this.nativeEvent=a;this.pointerID=n;this.primary=!!h;this.relatedTarget=l}var e=createjs.extend(t,createjs.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};e._get_isTouch=function(){return this.pointerID!==-1};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(t){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(t,"Event")})();this.createjs=this.createjs||{};(function(){"use strict";function f(t,e,i,r,s,a){this.setValues(t,e,i,r,s,a)}var t=f.prototype;f.DEG_TO_RAD=Math.PI/180;f.identity=null;t.setValues=function(t,e,i,r,s,a){this.a=t==null?1:t;this.b=e||0;this.c=i||0;this.d=r==null?1:r;this.tx=s||0;this.ty=a||0;return this};t.append=function(t,e,i,r,s,a){var n=this.a;var h=this.b;var o=this.c;var u=this.d;if(t!=1||e!=0||i!=0||r!=1){this.a=n*t+o*e;this.b=h*t+u*e;this.c=n*i+o*r;this.d=h*i+u*r}this.tx=n*s+o*a+this.tx;this.ty=h*s+u*a+this.ty;return this};t.prepend=function(t,e,i,r,s,a){var n=this.a;var h=this.c;var o=this.tx;this.a=t*n+i*this.b;this.b=e*n+r*this.b;this.c=t*h+i*this.d;this.d=e*h+r*this.d;this.tx=t*o+i*this.ty+s;this.ty=e*o+r*this.ty+a;return this};t.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)};t.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)};t.appendTransform=function(t,e,i,r,s,a,n,h,o){if(s%360){var u=s*f.DEG_TO_RAD;var l=Math.cos(u);var c=Math.sin(u)}else{l=1;c=0}if(a||n){a*=f.DEG_TO_RAD;n*=f.DEG_TO_RAD;this.append(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,e);this.append(l*i,c*i,-c*r,l*r,0,0)}else{this.append(l*i,c*i,-c*r,l*r,t,e)}if(h||o){this.tx-=h*this.a+o*this.c;this.ty-=h*this.b+o*this.d}return this};t.prependTransform=function(t,e,i,r,s,a,n,h,o){if(s%360){var u=s*f.DEG_TO_RAD;var l=Math.cos(u);var c=Math.sin(u)}else{l=1;c=0}if(h||o){this.tx-=h;this.ty-=o}if(a||n){a*=f.DEG_TO_RAD;n*=f.DEG_TO_RAD;this.prepend(l*i,c*i,-c*r,l*r,0,0);this.prepend(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,e)}else{this.prepend(l*i,c*i,-c*r,l*r,t,e)}return this};t.rotate=function(t){t=t*f.DEG_TO_RAD;var e=Math.cos(t);var i=Math.sin(t);var r=this.a;var s=this.b;this.a=r*e+this.c*i;this.b=s*e+this.d*i;this.c=-r*i+this.c*e;this.d=-s*i+this.d*e;return this};t.skew=function(t,e){t=t*f.DEG_TO_RAD;e=e*f.DEG_TO_RAD;this.append(Math.cos(e),Math.sin(e),-Math.sin(t),Math.cos(t),0,0);return this};t.scale=function(t,e){this.a*=t;this.b*=t;this.c*=e;this.d*=e;return this};t.translate=function(t,e){this.tx+=this.a*t+this.c*e;this.ty+=this.b*t+this.d*e;return this};t.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};t.invert=function(){var t=this.a;var e=this.b;var i=this.c;var r=this.d;var s=this.tx;var a=t*r-e*i;this.a=r/a;this.b=-e/a;this.c=-i/a;this.d=t/a;this.tx=(i*this.ty-r*s)/a;this.ty=-(t*this.ty-e*s)/a;return this};t.isIdentity=function(){return this.tx===0&&this.ty===0&&this.a===1&&this.b===0&&this.c===0&&this.d===1};t.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d};t.transformPoint=function(t,e,i){i=i||{};i.x=t*this.a+e*this.c+this.tx;i.y=t*this.b+e*this.d+this.ty;return i};t.decompose=function(t){if(t==null){t={}}t.x=this.tx;t.y=this.ty;t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var e=Math.atan2(-this.c,this.d);var i=Math.atan2(this.b,this.a);var r=Math.abs(1-e/i);if(r<1e-5){t.rotation=i/f.DEG_TO_RAD;if(this.a<0&&this.d>=0){t.rotation+=t.rotation<=0?180:-180}t.skewX=t.skewY=0}else{t.skewX=e/f.DEG_TO_RAD;t.skewY=i/f.DEG_TO_RAD}return t};t.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)};t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.tx,this.ty)};t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};f.identity=new f;createjs.Matrix2D=f})();this.createjs=this.createjs||{};(function(){"use strict";function t(t,e,i,r,s){this.setValues(t,e,i,r,s)}var e=t.prototype;e.setValues=function(t,e,i,r,s){this.visible=t==null?true:!!t;this.alpha=e==null?1:e;this.shadow=i;this.compositeOperation=r;this.matrix=s||this.matrix&&this.matrix.identity()||new createjs.Matrix2D;return this};e.append=function(t,e,i,r,s){this.alpha*=e;this.shadow=i||this.shadow;this.compositeOperation=r||this.compositeOperation;this.visible=this.visible&&t;s&&this.matrix.appendMatrix(s);return this};e.prepend=function(t,e,i,r,s){this.alpha*=e;this.shadow=this.shadow||i;this.compositeOperation=this.compositeOperation||r;this.visible=this.visible&&t;s&&this.matrix.prependMatrix(s);return this};e.identity=function(){this.visible=true;this.alpha=1;this.shadow=this.compositeOperation=null;this.matrix.identity();return this};e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=t})();this.createjs=this.createjs||{};(function(){"use strict";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){this.x=t||0;this.y=e||0;return this};e.copy=function(t){this.x=t.x;this.y=t.y;return this};e.clone=function(){return new t(this.x,this.y)};e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=t})();this.createjs=this.createjs||{};(function(){"use strict";function a(t,e,i,r){this.setValues(t,e,i,r)}var t=a.prototype;t.setValues=function(t,e,i,r){this.x=t||0;this.y=e||0;this.width=i||0;this.height=r||0;return this};t.extend=function(t,e,i,r){i=i||0;r=r||0;if(t+i>this.x+this.width){this.width=t+i-this.x}if(e+r>this.y+this.height){this.height=e+r-this.y}if(t<this.x){this.width+=this.x-t;this.x=t}if(e<this.y){this.height+=this.y-e;this.y=e}return this};t.pad=function(t,e,i,r){this.x-=e;this.y-=t;this.width+=e+r;this.height+=t+i;return this};t.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)};t.contains=function(t,e,i,r){i=i||0;r=r||0;return t>=this.x&&t+i<=this.x+this.width&&e>=this.y&&e+r<=this.y+this.height};t.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)};t.intersection=function(t){var e=t.x,i=t.y,r=e+t.width,s=i+t.height;if(this.x>e){e=this.x}if(this.y>i){i=this.y}if(this.x+this.width<r){r=this.x+this.width}if(this.y+this.height<s){s=this.y+this.height}return r<=e||s<=i?null:new a(e,i,r-e,s-i)};t.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height};t.isEmpty=function(){return this.width<=0||this.height<=0};t.clone=function(){return new a(this.x,this.y,this.width,this.height)};t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=a})();this.createjs=this.createjs||{};(function(){"use strict";function t(t,e,i,r,s,a,n){if(!t.addEventListener){return}this.target=t;this.overLabel=i==null?"over":i;this.outLabel=e==null?"out":e;this.downLabel=r==null?"down":r;this.play=s;this._isPressed=false;this._isOver=false;this._enabled=false;t.mouseChildren=false;this.enabled=true;this.handleEvent({});if(a){if(n){a.actionsEnabled=false;a.gotoAndStop&&a.gotoAndStop(n)}t.hitArea=a}}var e=t.prototype;e._setEnabled=function(t){if(t==this._enabled){return}var e=this.target;this._enabled=t;if(t){e.cursor="pointer";e.addEventListener("rollover",this);e.addEventListener("rollout",this);e.addEventListener("mousedown",this);e.addEventListener("pressup",this);if(e._reset){e.__reset=e._reset;e._reset=this._reset}}else{e.cursor=null;e.removeEventListener("rollover",this);e.removeEventListener("rollout",this);e.removeEventListener("mousedown",this);e.removeEventListener("pressup",this);if(e.__reset){e._reset=e.__reset;delete e.__reset}}};e.setEnabled=createjs.deprecate(e._setEnabled,"ButtonHelper.setEnabled");e._getEnabled=function(){return this._enabled};e.getEnabled=createjs.deprecate(e._getEnabled,"ButtonHelper.getEnabled");try{Object.defineProperties(e,{enabled:{get:e._getEnabled,set:e._setEnabled}})}catch(t){}e.toString=function(){return"[ButtonHelper]"};e.handleEvent=function(t){var e,i=this.target,r=t.type;if(r=="mousedown"){this._isPressed=true;e=this.downLabel}else if(r=="pressup"){this._isPressed=false;e=this._isOver?this.overLabel:this.outLabel}else if(r=="rollover"){this._isOver=true;e=this._isPressed?this.downLabel:this.overLabel}else{this._isOver=false;e=this._isPressed?this.overLabel:this.outLabel}if(this.play){i.gotoAndPlay&&i.gotoAndPlay(e)}else{i.gotoAndStop&&i.gotoAndStop(e)}};e._reset=function(){var t=this.paused;this.__reset();this.paused=t};createjs.ButtonHelper=t})();this.createjs=this.createjs||{};(function(){"use strict";function t(t,e,i,r){this.color=t||"black";this.offsetX=e||0;this.offsetY=i||0;this.blur=r||0}var e=t.prototype;t.identity=new t("transparent",0,0,0);e.toString=function(){return"[Shadow]"};e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=t})();this.createjs=this.createjs||{};(function(){"use strict";function t(t){this.EventDispatcher_constructor();this.complete=true;this.framerate=0;this._animations=null;this._frames=null;this._images=null;this._data=null;this._loadCount=0;this._frameHeight=0;this._frameWidth=0;this._numFrames=0;this._regX=0;this._regY=0;this._spacing=0;this._margin=0;this._parseData(t)}var e=createjs.extend(t,createjs.EventDispatcher);e._getAnimations=function(){return this._animations.slice()};e.getAnimations=createjs.deprecate(e._getAnimations,"SpriteSheet.getAnimations");try{Object.defineProperties(e,{animations:{get:e._getAnimations}})}catch(t){}e.getNumFrames=function(t){if(t==null){return this._frames?this._frames.length:this._numFrames||0}else{var e=this._data[t];if(e==null){return 0}else{return e.frames.length}}};e.getAnimation=function(t){return this._data[t]};e.getFrame=function(t){var e;if(this._frames&&(e=this._frames[t])){return e}return null};e.getFrameBounds=function(t,e){var i=this.getFrame(t);return i?(e||new createjs.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null};e.toString=function(){return"[SpriteSheet]"};e.clone=function(){throw"SpriteSheet cannot be cloned."};e._parseData=function(t){var e,i,r,s;if(t==null){return}this.framerate=t.framerate||0;if(t.images&&(i=t.images.length)>0){s=this._images=[];for(e=0;e<i;e++){var a=t.images[e];if(typeof a=="string"){var n=a;a=document.createElement("img");a.src=n}s.push(a);if(!a.getContext&&!a.naturalWidth){this._loadCount++;this.complete=false;(function(t,e){a.onload=function(){t._handleImageLoad(e)}})(this,n);(function(t,e){a.onerror=function(){t._handleImageError(e)}})(this,n)}}}if(t.frames==null){}else if(Array.isArray(t.frames)){this._frames=[];s=t.frames;for(e=0,i=s.length;e<i;e++){var h=s[e];this._frames.push({image:this._images[h[4]?h[4]:0],rect:new createjs.Rectangle(h[0],h[1],h[2],h[3]),regX:h[5]||0,regY:h[6]||0})}}else{r=t.frames;this._frameWidth=r.width;this._frameHeight=r.height;this._regX=r.regX||0;this._regY=r.regY||0;this._spacing=r.spacing||0;this._margin=r.margin||0;this._numFrames=r.count;if(this._loadCount==0){this._calculateFrames()}}this._animations=[];if((r=t.animations)!=null){this._data={};var o;for(o in r){var u={name:o};var l=r[o];if(typeof l=="number"){s=u.frames=[l]}else if(Array.isArray(l)){if(l.length==1){u.frames=[l[0]]}else{u.speed=l[3];u.next=l[2];s=u.frames=[];for(e=l[0];e<=l[1];e++){s.push(e)}}}else{u.speed=l.speed;u.next=l.next;var c=l.frames;s=u.frames=typeof c=="number"?[c]:c.slice(0)}if(u.next===true||u.next===undefined){u.next=o}if(u.next===false||s.length<2&&u.next==o){u.next=null}if(!u.speed){u.speed=1}this._animations.push(o);this._data[o]=u}}};e._handleImageLoad=function(t){if(--this._loadCount==0){this._calculateFrames();this.complete=true;this.dispatchEvent("complete")}};e._handleImageError=function(t){var e=new createjs.Event("error");e.src=t;this.dispatchEvent(e);if(--this._loadCount==0){this.dispatchEvent("complete")}};e._calculateFrames=function(){if(this._frames||this._frameWidth==0){return}this._frames=[];var t=this._numFrames||1e5;var e=0,i=this._frameWidth,r=this._frameHeight;var s=this._spacing,a=this._margin;t:for(var n=0,h=this._images;n<h.length;n++){var o=h[n],u=o.width||o.naturalWidth,l=o.height||o.naturalHeight;var c=a;while(c<=l-a-r){var f=a;while(f<=u-a-i){if(e>=t){break t}e++;this._frames.push({image:o,rect:new createjs.Rectangle(f,c,i,r),regX:this._regX,regY:this._regY});f+=i+s}c+=r+s}}this._numFrames=e};createjs.SpriteSheet=createjs.promote(t,"EventDispatcher")})();this.createjs=this.createjs||{};(function(){"use strict";function m(){this.command=null;this._stroke=null;this._strokeStyle=null;this._oldStrokeStyle=null;this._strokeDash=null;this._oldStrokeDash=null;this._strokeIgnoreScale=false;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=false;this._storeIndex=0;this.clear()}var t=m.prototype;var o=m;m.getRGB=function(t,e,i,r){if(t!=null&&i==null){r=e;i=t&255;e=t>>8&255;t=t>>16&255}if(r==null){return"rgb("+t+","+e+","+i+")"}else{return"rgba("+t+","+e+","+i+","+r+")"}};m.getHSL=function(t,e,i,r){if(r==null){return"hsl("+t%360+","+e+"%,"+i+"%)"}else{return"hsla("+t%360+","+e+"%,"+i+"%,"+r+")"}};m.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};m.STROKE_CAPS_MAP=["butt","round","square"];m.STROKE_JOINTS_MAP=["miter","round","bevel"];var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(e.getContext){m._ctx=e.getContext("2d");e.width=e.height=1}t._getInstructions=function(){this._updateInstructions();return this._instructions};t.getInstructions=createjs.deprecate(t._getInstructions,"Graphics.getInstructions");try{Object.defineProperties(t,{instructions:{get:t._getInstructions}})}catch(t){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};t.draw=function(t,e){this._updateInstructions();var i=this._instructions;for(var r=this._storeIndex,s=i.length;r<s;r++){i[r].exec(t,e)}};t.drawAsPath=function(t){this._updateInstructions();var e,i=this._instructions;for(var r=this._storeIndex,s=i.length;r<s;r++){if((e=i[r]).path!==false){e.exec(t)}}};t.moveTo=function(t,e){return this.append(new o.MoveTo(t,e),true)};t.lineTo=function(t,e){return this.append(new o.LineTo(t,e))};t.arcTo=function(t,e,i,r,s){return this.append(new o.ArcTo(t,e,i,r,s))};t.arc=function(t,e,i,r,s,a){return this.append(new o.Arc(t,e,i,r,s,a))};t.quadraticCurveTo=function(t,e,i,r){return this.append(new o.QuadraticCurveTo(t,e,i,r))};t.bezierCurveTo=function(t,e,i,r,s,a){return this.append(new o.BezierCurveTo(t,e,i,r,s,a))};t.rect=function(t,e,i,r){return this.append(new o.Rect(t,e,i,r))};t.closePath=function(){return this._activeInstructions.length?this.append(new o.ClosePath):this};t.clear=function(){this._instructions.length=this._activeInstructions.length=this._commitIndex=0;this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null;this._dirty=this._strokeIgnoreScale=false;return this};t.beginFill=function(t){return this._setFill(t?new o.Fill(t):null)};t.beginLinearGradientFill=function(t,e,i,r,s,a){return this._setFill((new o.Fill).linearGradient(t,e,i,r,s,a))};t.beginRadialGradientFill=function(t,e,i,r,s,a,n,h){return this._setFill((new o.Fill).radialGradient(t,e,i,r,s,a,n,h))};t.beginBitmapFill=function(t,e,i){return this._setFill(new o.Fill(null,i).bitmap(t,e))};t.endFill=function(){return this.beginFill()};t.setStrokeStyle=function(t,e,i,r,s){this._updateInstructions(true);this._strokeStyle=this.command=new o.StrokeStyle(t,e,i,r,s);if(this._stroke){this._stroke.ignoreScale=s}this._strokeIgnoreScale=s;return this};t.setStrokeDash=function(t,e){this._updateInstructions(true);this._strokeDash=this.command=new o.StrokeDash(t,e);return this};t.beginStroke=function(t){return this._setStroke(t?new o.Stroke(t):null)};t.beginLinearGradientStroke=function(t,e,i,r,s,a){return this._setStroke((new o.Stroke).linearGradient(t,e,i,r,s,a))};t.beginRadialGradientStroke=function(t,e,i,r,s,a,n,h){return this._setStroke((new o.Stroke).radialGradient(t,e,i,r,s,a,n,h))};t.beginBitmapStroke=function(t,e){return this._setStroke((new o.Stroke).bitmap(t,e))};t.endStroke=function(){return this.beginStroke()};t.curveTo=t.quadraticCurveTo;t.drawRect=t.rect;t.drawRoundRect=function(t,e,i,r,s){return this.drawRoundRectComplex(t,e,i,r,s,s,s,s)};t.drawRoundRectComplex=function(t,e,i,r,s,a,n,h){return this.append(new o.RoundRect(t,e,i,r,s,a,n,h))};t.drawCircle=function(t,e,i){return this.append(new o.Circle(t,e,i))};t.drawEllipse=function(t,e,i,r){return this.append(new o.Ellipse(t,e,i,r))};t.drawPolyStar=function(t,e,i,r,s,a){return this.append(new o.PolyStar(t,e,i,r,s,a))};t.append=function(t,e){this._activeInstructions.push(t);this.command=t;if(!e){this._dirty=true}return this};t.decodePath=function(t){var e=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath];var i=[2,2,4,6,0];var r=0,s=t.length;var a=[];var n=0,h=0;var o=m.BASE_64;while(r<s){var u=t.charAt(r);var l=o[u];var c=l>>3;var f=e[c];if(!f||l&3){throw"bad path data (@"+r+"): "+u}var d=i[c];if(!c){n=h=0}a.length=0;r++;var _=(l>>2&1)+2;for(var p=0;p<d;p++){var v=o[t.charAt(r)];var g=v>>5?-1:1;v=(v&31)<<6|o[t.charAt(r+1)];if(_==3){v=v<<6|o[t.charAt(r+2)]}v=g*v/10;if(p%2){n=v+=n}else{h=v+=h}a[p]=v;r+=_}f.apply(this,a)}return this};t.store=function(){this._updateInstructions(true);this._storeIndex=this._instructions.length;return this};t.unstore=function(){this._storeIndex=0;return this};t.clone=function(){var t=new m;t.command=this.command;t._stroke=this._stroke;t._strokeStyle=this._strokeStyle;t._strokeDash=this._strokeDash;t._strokeIgnoreScale=this._strokeIgnoreScale;t._fill=this._fill;t._instructions=this._instructions.slice();t._commitIndex=this._commitIndex;t._activeInstructions=this._activeInstructions.slice();t._dirty=this._dirty;t._storeIndex=this._storeIndex;return t};t.toString=function(){return"[Graphics]"};t.mt=t.moveTo;t.lt=t.lineTo;t.at=t.arcTo;t.bt=t.bezierCurveTo;t.qt=t.quadraticCurveTo;t.a=t.arc;t.r=t.rect;t.cp=t.closePath;t.c=t.clear;t.f=t.beginFill;t.lf=t.beginLinearGradientFill;t.rf=t.beginRadialGradientFill;t.bf=t.beginBitmapFill;t.ef=t.endFill;t.ss=t.setStrokeStyle;t.sd=t.setStrokeDash;t.s=t.beginStroke;t.ls=t.beginLinearGradientStroke;t.rs=t.beginRadialGradientStroke;t.bs=t.beginBitmapStroke;t.es=t.endStroke;t.dr=t.drawRect;t.rr=t.drawRoundRect;t.rc=t.drawRoundRectComplex;t.dc=t.drawCircle;t.de=t.drawEllipse;t.dp=t.drawPolyStar;t.p=t.decodePath;t._updateInstructions=function(t){var e=this._instructions,i=this._activeInstructions,r=this._commitIndex;if(this._dirty&&i.length){e.length=r;e.push(m.beginCmd);var s=i.length,a=e.length;e.length=a+s;for(var n=0;n<s;n++){e[n+a]=i[n]}if(this._fill){e.push(this._fill)}if(this._stroke){if(this._strokeDash!==this._oldStrokeDash){e.push(this._strokeDash)}if(this._strokeStyle!==this._oldStrokeStyle){e.push(this._strokeStyle)}if(t){this._oldStrokeStyle=this._strokeStyle;this._oldStrokeDash=this._strokeDash}e.push(this._stroke)}this._dirty=false}if(t){i.length=0;this._commitIndex=e.length}};t._setFill=function(t){this._updateInstructions(true);this.command=this._fill=t;return this};t._setStroke=function(t){this._updateInstructions(true);if(this.command=this._stroke=t){t.ignoreScale=this._strokeIgnoreScale}return this};(o.LineTo=function(t,e){this.x=t;this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)};(o.MoveTo=function(t,e){this.x=t;this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)};(o.ArcTo=function(t,e,i,r,s){this.x1=t;this.y1=e;this.x2=i;this.y2=r;this.radius=s}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)};(o.Arc=function(t,e,i,r,s,a){this.x=t;this.y=e;this.radius=i;this.startAngle=r;this.endAngle=s;this.anticlockwise=!!a}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(o.QuadraticCurveTo=function(t,e,i,r){this.cpx=t;this.cpy=e;this.x=i;this.y=r}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(o.BezierCurveTo=function(t,e,i,r,s,a){this.cp1x=t;this.cp1y=e;this.cp2x=i;this.cp2y=r;this.x=s;this.y=a}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(o.Rect=function(t,e,i,r){this.x=t;this.y=e;this.w=i;this.h=r}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)};(o.ClosePath=function(){}).prototype.exec=function(t){t.closePath()};(o.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()};t=(o.Fill=function(t,e){this.style=t;this.matrix=e}).prototype;t.exec=function(t){if(!this.style){return}t.fillStyle=this.style;var e=this.matrix;if(e){t.save();t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)}t.fill();if(e){t.restore()}};t.linearGradient=function(t,e,i,r,s,a){var n=this.style=m._ctx.createLinearGradient(i,r,s,a);for(var h=0,o=t.length;h<o;h++){n.addColorStop(e[h],t[h])}n.props={colors:t,ratios:e,x0:i,y0:r,x1:s,y1:a,type:"linear"};return this};t.radialGradient=function(t,e,i,r,s,a,n,h){var o=this.style=m._ctx.createRadialGradient(i,r,s,a,n,h);for(var u=0,l=t.length;u<l;u++){o.addColorStop(e[u],t[u])}o.props={colors:t,ratios:e,x0:i,y0:r,r0:s,x1:a,y1:n,r1:h,type:"radial"};return this};t.bitmap=function(t,e){if(t.naturalWidth||t.getContext||t.readyState>=2){var i=this.style=m._ctx.createPattern(t,e||"");i.props={image:t,repetition:e,type:"bitmap"}}return this};t.path=false;t=(o.Stroke=function(t,e){this.style=t;this.ignoreScale=e}).prototype;t.exec=function(t){if(!this.style){return}t.strokeStyle=this.style;if(this.ignoreScale){t.save();t.setTransform(1,0,0,1,0,0)}t.stroke();if(this.ignoreScale){t.restore()}};t.linearGradient=o.Fill.prototype.linearGradient;t.radialGradient=o.Fill.prototype.radialGradient;t.bitmap=o.Fill.prototype.bitmap;t.path=false;t=(o.StrokeStyle=function(t,e,i,r,s){this.width=t;this.caps=e;this.joints=i;this.miterLimit=r;this.ignoreScale=s}).prototype;t.exec=function(t){t.lineWidth=this.width==null?"1":this.width;t.lineCap=this.caps==null?"butt":isNaN(this.caps)?this.caps:m.STROKE_CAPS_MAP[this.caps];t.lineJoin=this.joints==null?"miter":isNaN(this.joints)?this.joints:m.STROKE_JOINTS_MAP[this.joints];t.miterLimit=this.miterLimit==null?"10":this.miterLimit;t.ignoreScale=this.ignoreScale==null?false:this.ignoreScale};t.path=false;(o.StrokeDash=function(t,e){this.segments=t;this.offset=e||0}).prototype.exec=function(t){if(t.setLineDash){t.setLineDash(this.segments||o.StrokeDash.EMPTY_SEGMENTS);t.lineDashOffset=this.offset||0}};o.StrokeDash.EMPTY_SEGMENTS=[];(o.RoundRect=function(t,e,i,r,s,a,n,h){this.x=t;this.y=e;this.w=i;this.h=r;this.radiusTL=s;this.radiusTR=a;this.radiusBR=n;this.radiusBL=h}).prototype.exec=function(t){var e=(o<u?o:u)/2;var i=0,r=0,s=0,a=0;var n=this.x,h=this.y,o=this.w,u=this.h;var l=this.radiusTL,c=this.radiusTR,f=this.radiusBR,d=this.radiusBL;if(l<0){l*=i=-1}if(l>e){l=e}if(c<0){c*=r=-1}if(c>e){c=e}if(f<0){f*=s=-1}if(f>e){f=e}if(d<0){d*=a=-1}if(d>e){d=e}t.moveTo(n+o-c,h);t.arcTo(n+o+c*r,h-c*r,n+o,h+c,c);t.lineTo(n+o,h+u-f);t.arcTo(n+o+f*s,h+u+f*s,n+o-f,h+u,f);t.lineTo(n+d,h+u);t.arcTo(n-d*a,h+u+d*a,n,h+u-d,d);t.lineTo(n,h+l);t.arcTo(n-l*i,h-l*i,n+l,h,l);t.closePath()};(o.Circle=function(t,e,i){this.x=t;this.y=e;this.radius=i}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,Math.PI*2)};(o.Ellipse=function(t,e,i,r){this.x=t;this.y=e;this.w=i;this.h=r}).prototype.exec=function(t){var e=this.x,i=this.y;var r=this.w,s=this.h;var a=.5522848;var n=r/2*a;var h=s/2*a;var o=e+r;var u=i+s;var l=e+r/2;var c=i+s/2;t.moveTo(e,c);t.bezierCurveTo(e,c-h,l-n,i,l,i);t.bezierCurveTo(l+n,i,o,c-h,o,c);t.bezierCurveTo(o,c+h,l+n,u,l,u);t.bezierCurveTo(l-n,u,e,c+h,e,c)};(o.PolyStar=function(t,e,i,r,s,a){this.x=t;this.y=e;this.radius=i;this.sides=r;this.pointSize=s;this.angle=a}).prototype.exec=function(t){var e=this.x,i=this.y;var r=this.radius;var s=(this.angle||0)/180*Math.PI;var a=this.sides;var n=1-(this.pointSize||0);var h=Math.PI/a;t.moveTo(e+Math.cos(s)*r,i+Math.sin(s)*r);for(var o=0;o<a;o++){s+=h;if(n!=1){t.lineTo(e+Math.cos(s)*r*n,i+Math.sin(s)*r*n)}s+=h;t.lineTo(e+Math.cos(s)*r,i+Math.sin(s)*r)}t.closePath()};m.beginCmd=new o.BeginPath;createjs.Graphics=m})();this.createjs=this.createjs||{};(function(){"use strict";function n(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.bitmapCache=null;this.id=createjs.UID.get();this.mouseEnabled=true;this.tickEnabled=true;this.name=null;this.parent=null;this.regX=0;this.regY=0;this.rotation=0;this.scaleX=1;this.scaleY=1;this.skewX=0;this.skewY=0;this.shadow=null;this.visible=true;this.x=0;this.y=0;this.transformMatrix=null;this.compositeOperation=null;this.snapToPixel=true;this.filters=null;this.mask=null;this.hitArea=null;this.cursor=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null;this._webGLRenderStyle=n._StageGL_NONE}var t=createjs.extend(n,createjs.EventDispatcher);n._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"];n.suppressCrossDomainErrors=false;n._snapToPixelEnabled=false;n._StageGL_NONE=0;n._StageGL_SPRITE=1;n._StageGL_BITMAP=2;var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(e.getContext){n._hitTestCanvas=e;n._hitTestContext=e.getContext("2d");e.width=e.height=1}t._getStage=function(){var t=this,e=createjs["Stage"];while(t.parent){t=t.parent}if(t instanceof e){return t}return null};t.getStage=createjs.deprecate(t._getStage,"DisplayObject.getStage");try{Object.defineProperties(t,{stage:{get:t._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(t){this.bitmapCache&&(this.bitmapCache.cacheID=t)}},scale:{get:function(){return this.scaleX},set:function(t){this.scaleX=this.scaleY=t}}})}catch(t){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)};t.draw=function(t,e){var i=this.bitmapCache;if(i&&!e){return i.draw(t)}return false};t.updateContext=function(t){var e=this,i=e.mask,r=e._props.matrix;if(i&&i.graphics&&!i.graphics.isEmpty()){i.getMatrix(r);t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty);i.graphics.drawAsPath(t);t.clip();r.invert();t.transform(r.a,r.b,r.c,r.d,r.tx,r.ty)}this.getMatrix(r);var s=r.tx,a=r.ty;if(n._snapToPixelEnabled&&e.snapToPixel){s=s+(s<0?-.5:.5)|0;a=a+(a<0?-.5:.5)|0}t.transform(r.a,r.b,r.c,r.d,s,a);t.globalAlpha*=e.alpha;if(e.compositeOperation){t.globalCompositeOperation=e.compositeOperation}if(e.shadow){this._applyShadow(t,e.shadow)}};t.cache=function(t,e,i,r,s,a){if(!this.bitmapCache){this.bitmapCache=new createjs.BitmapCache}this.bitmapCache.define(this,t,e,i,r,s,a)};t.updateCache=function(t){if(!this.bitmapCache){throw"cache() must be called before updateCache()"}this.bitmapCache.update(t)};t.uncache=function(){if(this.bitmapCache){this.bitmapCache.release();this.bitmapCache=undefined}};t.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getCacheDataURL():null};t.localToGlobal=function(t,e,i){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,i||new createjs.Point)};t.globalToLocal=function(t,e,i){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,i||new createjs.Point)};t.localToLocal=function(t,e,i,r){r=this.localToGlobal(t,e,r);return i.globalToLocal(r.x,r.y,r)};t.setTransform=function(t,e,i,r,s,a,n,h,o){this.x=t||0;this.y=e||0;this.scaleX=i==null?1:i;this.scaleY=r==null?1:r;this.rotation=s||0;this.skewX=a||0;this.skewY=n||0;this.regX=h||0;this.regY=o||0;return this};t.getMatrix=function(t){var e=this,i=t&&t.identity()||new createjs.Matrix2D;return e.transformMatrix?i.copy(e.transformMatrix):i.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)};t.getConcatenatedMatrix=function(t){var e=this,i=this.getMatrix(t);while(e=e.parent){i.prependMatrix(e.getMatrix(e._props.matrix))}return i};t.getConcatenatedDisplayProps=function(t){t=t?t.identity():new createjs.DisplayProps;var e=this,i=e.getMatrix(t.matrix);do{t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation);if(e!=this){i.prependMatrix(e.getMatrix(e._props.matrix))}}while(e=e.parent);return t};t.hitTest=function(t,e){var i=n._hitTestContext;i.setTransform(1,0,0,1,-t,-e);this.draw(i);var r=this._testHit(i);i.setTransform(1,0,0,1,0,0);i.clearRect(0,0,2,2);return r};t.set=function(t){for(var e in t){this[e]=t[e]}return this};t.getBounds=function(){if(this._bounds){return this._rectangle.copy(this._bounds)}var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null};t.getTransformedBounds=function(){return this._getBounds()};t.setBounds=function(t,e,i,r){if(t==null){this._bounds=t;return}this._bounds=(this._bounds||new createjs.Rectangle).setValues(t,e,i,r)};t.clone=function(){return this._cloneProps(new n)};t.toString=function(){return"[DisplayObject (name="+this.name+")]"};t._updateState=null;t._cloneProps=function(t){t.alpha=this.alpha;t.mouseEnabled=this.mouseEnabled;t.tickEnabled=this.tickEnabled;t.name=this.name;t.regX=this.regX;t.regY=this.regY;t.rotation=this.rotation;t.scaleX=this.scaleX;t.scaleY=this.scaleY;t.shadow=this.shadow;t.skewX=this.skewX;t.skewY=this.skewY;t.visible=this.visible;t.x=this.x;t.y=this.y;t.compositeOperation=this.compositeOperation;t.snapToPixel=this.snapToPixel;t.filters=this.filters==null?null:this.filters.slice(0);t.mask=this.mask;t.hitArea=this.hitArea;t.cursor=this.cursor;t._bounds=this._bounds;return t};t._applyShadow=function(t,e){e=e||Shadow.identity;t.shadowColor=e.color;t.shadowOffsetX=e.offsetX;t.shadowOffsetY=e.offsetY;t.shadowBlur=e.blur};t._tick=function(t){var e=this._listeners;if(e&&e["tick"]){t.target=null;t.propagationStopped=t.immediatePropagationStopped=false;this.dispatchEvent(t)}};t._testHit=function(t){try{var e=t.getImageData(0,0,1,1).data[3]>1}catch(t){if(!n.suppressCrossDomainErrors){throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}}return e};t._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)};t._transformBounds=function(t,e,i){if(!t){return t}var r=t.x,s=t.y,a=t.width,n=t.height,h=this._props.matrix;h=i?h.identity():this.getMatrix(h);if(r||s){h.appendTransform(0,0,1,1,0,0,0,-r,-s)}if(e){h.prependMatrix(e)}var o=a*h.a,u=a*h.b;var l=n*h.c,c=n*h.d;var f=h.tx,d=h.ty;var _=f,p=f,v=d,g=d;if((r=o+f)<_){_=r}else if(r>p){p=r}if((r=o+l+f)<_){_=r}else if(r>p){p=r}if((r=l+f)<_){_=r}else if(r>p){p=r}if((s=u+d)<v){v=s}else if(s>g){g=s}if((s=u+c+d)<v){v=s}else if(s>g){g=s}if((s=c+d)<v){v=s}else if(s>g){g=s}return t.setValues(_,v,p-_,g-v)};t._hasMouseEventListener=function(){var t=n._MOUSE_EVENTS;for(var e=0,i=t.length;e<i;e++){if(this.hasEventListener(t[e])){return true}}return!!this.cursor};createjs.DisplayObject=createjs.promote(n,"EventDispatcher")})();this.createjs=this.createjs||{};(function(){"use strict";function p(){this.DisplayObject_constructor();this.children=[];this.mouseChildren=true;this.tickChildren=true}var t=createjs.extend(p,createjs.DisplayObject);t._getNumChildren=function(){return this.children.length};t.getNumChildren=createjs.deprecate(t._getNumChildren,"Container.getNumChildren");try{Object.defineProperties(t,{numChildren:{get:t._getNumChildren}})}catch(t){}t.initialize=p;t.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&t)};t.draw=function(t,e){if(this.DisplayObject_draw(t,e)){return true}var i=this.children.slice();for(var r=0,s=i.length;r<s;r++){var a=i[r];if(!a.isVisible()){continue}t.save();a.updateContext(t);a.draw(t);t.restore()}return true};t.addChild=function(t){if(t==null){return t}var e=arguments.length;if(e>1){for(var i=0;i<e;i++){this.addChild(arguments[i])}return arguments[e-1]}var r=t.parent,s=r===this;r&&r._removeChildAt(createjs.indexOf(r.children,t),s);t.parent=this;this.children.push(t);if(!s){t.dispatchEvent("added")}return t};t.addChildAt=function(t,e){var i=arguments.length;var r=arguments[i-1];if(r<0||r>this.children.length){return arguments[i-2]}if(i>2){for(var s=0;s<i-1;s++){this.addChildAt(arguments[s],r+s)}return arguments[i-2]}var a=t.parent,n=a===this;a&&a._removeChildAt(createjs.indexOf(a.children,t),n);t.parent=this;this.children.splice(e,0,t);if(!n){t.dispatchEvent("added")}return t};t.removeChild=function(t){var e=arguments.length;if(e>1){var i=true;for(var r=0;r<e;r++){i=i&&this.removeChild(arguments[r])}return i}return this._removeChildAt(createjs.indexOf(this.children,t))};t.removeChildAt=function(t){var e=arguments.length;if(e>1){var i=[];for(var r=0;r<e;r++){i[r]=arguments[r]}i.sort(function(t,e){return e-t});var s=true;for(var r=0;r<e;r++){s=s&&this._removeChildAt(i[r])}return s}return this._removeChildAt(t)};t.removeAllChildren=function(){var t=this.children;while(t.length){this._removeChildAt(0)}};t.getChildAt=function(t){return this.children[t]};t.getChildByName=function(t){var e=this.children;for(var i=0,r=e.length;i<r;i++){if(e[i].name==t){return e[i]}}return null};t.sortChildren=function(t){this.children.sort(t)};t.getChildIndex=function(t){return createjs.indexOf(this.children,t)};t.swapChildrenAt=function(t,e){var i=this.children;var r=i[t];var s=i[e];if(!r||!s){return}i[t]=s;i[e]=r};t.swapChildren=function(t,e){var i=this.children;var r,s;for(var a=0,n=i.length;a<n;a++){if(i[a]==t){r=a}if(i[a]==e){s=a}if(r!=null&&s!=null){break}}if(a==n){return}i[r]=e;i[s]=t};t.setChildIndex=function(t,e){var i=this.children,r=i.length;if(t.parent!=this||e<0||e>=r){return}for(var s=0;s<r;s++){if(i[s]==t){break}}if(s==r||s==e){return}i.splice(s,1);i.splice(e,0,t)};t.contains=function(t){while(t){if(t==this){return true}t=t.parent}return false};t.hitTest=function(t,e){return this.getObjectUnderPoint(t,e)!=null};t.getObjectsUnderPoint=function(t,e,i){var r=[];var s=this.localToGlobal(t,e);this._getObjectsUnderPoint(s.x,s.y,r,i>0,i==1);return r};t.getObjectUnderPoint=function(t,e,i){var r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,null,i>0,i==1)};t.getBounds=function(){return this._getBounds(null,true)};t.getTransformedBounds=function(){return this._getBounds()};t.clone=function(t){var e=this._cloneProps(new p);if(t){this._cloneChildren(e)}return e};t.toString=function(){return"[Container (name="+this.name+")]"};t._tick=function(t){if(this.tickChildren){for(var e=this.children.length-1;e>=0;e--){var i=this.children[e];if(i.tickEnabled&&i._tick){i._tick(t)}}}this.DisplayObject__tick(t)};t._cloneChildren=function(t){if(t.children.length){t.removeAllChildren()}var e=t.children;for(var i=0,r=this.children.length;i<r;i++){var s=this.children[i].clone(true);s.parent=t;e.push(s)}};t._removeChildAt=function(t,e){if(t<0||t>this.children.length-1){return false}var i=this.children[t];if(i){i.parent=null}this.children.splice(t,1);if(!e){i.dispatchEvent("removed")}return true};t._getObjectsUnderPoint=function(t,e,i,r,s,a){a=a||0;if(!a&&!this._testMask(this,t,e)){return null}var n,h=createjs.DisplayObject._hitTestContext;s=s||r&&this._hasMouseEventListener();var o=this.children,u=o.length;for(var l=u-1;l>=0;l--){var c=o[l];var f=c.hitArea;if(!c.visible||!f&&!c.isVisible()||r&&!c.mouseEnabled){continue}if(!f&&!this._testMask(c,t,e)){continue}if(!f&&c instanceof p){var d=c._getObjectsUnderPoint(t,e,i,r,s,a+1);if(!i&&d){return r&&!this.mouseChildren?this:d}}else{if(r&&!s&&!c._hasMouseEventListener()){continue}var _=c.getConcatenatedDisplayProps(c._props);n=_.matrix;if(f){n.appendMatrix(f.getMatrix(f._props.matrix));_.alpha=f.alpha}h.globalAlpha=_.alpha;h.setTransform(n.a,n.b,n.c,n.d,n.tx-t,n.ty-e);(f||c).draw(h);if(!this._testHit(h)){continue}h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,2,2);if(i){i.push(c)}else{return r&&!this.mouseChildren?this:c}}}return null};t._testMask=function(t,e,i){var r=t.mask;if(!r||!r.graphics||r.graphics.isEmpty()){return true}var s=this._props.matrix,a=t.parent;s=a?a.getConcatenatedMatrix(s):s.identity();s=r.getMatrix(r._props.matrix).prependMatrix(s);var n=createjs.DisplayObject._hitTestContext;n.setTransform(s.a,s.b,s.c,s.d,s.tx-e,s.ty-i);r.graphics.drawAsPath(n);n.fillStyle="#000";n.fill();if(!this._testHit(n)){return false}n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,2,2);return true};t._getBounds=function(t,e){var i=this.DisplayObject_getBounds();if(i){return this._transformBounds(i,t,e)}var r=this._props.matrix;r=e?r.identity():this.getMatrix(r);if(t){r.prependMatrix(t)}var s=this.children.length,a=null;for(var n=0;n<s;n++){var h=this.children[n];if(!h.visible||!(i=h._getBounds(r))){continue}if(a){a.extend(i.x,i.y,i.width,i.height)}else{a=i.clone()}}return a};createjs.Container=createjs.promote(p,"DisplayObject")})();this.createjs=this.createjs||{};(function(){"use strict";function t(t){this.Container_constructor();this.autoClear=true;this.canvas=typeof t=="string"?document.getElementById(t):t;this.mouseX=0;this.mouseY=0;this.drawRect=null;this.snapToPixelEnabled=false;this.mouseInBounds=false;this.tickOnUpdate=true;this.mouseMoveOutside=false;this.preventSelection=true;this._pointerData={};this._pointerCount=0;this._primaryPointerID=null;this._mouseOverIntervalID=null;this._nextStage=null;this._prevStage=null;this.enableDOMEvents(true)}var e=createjs.extend(t,createjs.Container);e._get_nextStage=function(){return this._nextStage};e._set_nextStage=function(t){if(this._nextStage){this._nextStage._prevStage=null}if(t){t._prevStage=this}this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(t){}e.update=function(t){if(!this.canvas){return}if(this.tickOnUpdate){this.tick(t)}if(this.dispatchEvent("drawstart",false,true)===false){return}createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,i=this.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0);if(this.autoClear){if(e){i.clearRect(e.x,e.y,e.width,e.height)}else{i.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}}i.save();if(this.drawRect){i.beginPath();i.rect(e.x,e.y,e.width,e.height);i.clip()}this.updateContext(i);this.draw(i,false);i.restore();this.dispatchEvent("drawend")};e.tick=function(t){if(!this.tickEnabled||this.dispatchEvent("tickstart",false,true)===false){return}var e=new createjs.Event("tick");if(t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}this._tick(e);this.dispatchEvent("tickend")};e.handleEvent=function(t){if(t.type=="tick"){this.update(t)}};e.clear=function(){if(!this.canvas){return}var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)};e.toDataURL=function(t,e){var i,r=this.canvas.getContext("2d"),s=this.canvas.width,a=this.canvas.height;if(t){i=r.getImageData(0,0,s,a);var n=r.globalCompositeOperation;r.globalCompositeOperation="destination-over";r.fillStyle=t;r.fillRect(0,0,s,a)}var h=this.canvas.toDataURL(e||"image/png");if(t){r.putImageData(i,0,0);r.globalCompositeOperation=n}return h};e.enableMouseOver=function(t){if(this._mouseOverIntervalID){clearInterval(this._mouseOverIntervalID);this._mouseOverIntervalID=null;if(t==0){this._testMouseOver(true)}}if(t==null){t=20}else if(t<=0){return}var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))};e.enableDOMEvents=function(t){if(t==null){t=true}var e,i,r=this._eventListeners;if(!t&&r){for(e in r){i=r[e];i.t.removeEventListener(e,i.f,false)}this._eventListeners=null}else if(t&&!r&&this.canvas){var s=window.addEventListener?window:document;var a=this;r=this._eventListeners={};r["mouseup"]={t:s,f:function(t){a._handleMouseUp(t)}};r["mousemove"]={t:s,f:function(t){a._handleMouseMove(t)}};r["dblclick"]={t:this.canvas,f:function(t){a._handleDoubleClick(t)}};r["mousedown"]={t:this.canvas,f:function(t){a._handleMouseDown(t)}};for(e in r){i=r[e];i.t.addEventListener(e,i.f,false)}}};e.clone=function(){throw"Stage cannot be cloned."};e.toString=function(){return"[Stage (name="+this.name+")]"};e._getElementRect=function(e){var i;try{i=e.getBoundingClientRect()}catch(t){i={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var t=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0);var r=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0);var s=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle;var a=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth);var n=parseInt(s.paddingTop)+parseInt(s.borderTopWidth);var h=parseInt(s.paddingRight)+parseInt(s.borderRightWidth);var o=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:i.left+t+a,right:i.right+t-h,top:i.top+r+n,bottom:i.bottom+r-o}};e._getPointerData=function(t){var e=this._pointerData[t];if(!e){e=this._pointerData[t]={x:0,y:0}}return e};e._handleMouseMove=function(t){if(!t){t=window.event}this._handlePointerMove(-1,t,t.pageX,t.pageY)};e._handlePointerMove=function(t,e,i,r,s){if(this._prevStage&&s===undefined){return}if(!this.canvas){return}var a=this._nextStage,n=this._getPointerData(t);var h=n.inBounds;this._updatePointerPosition(t,e,i,r);if(h||n.inBounds||this.mouseMoveOutside){if(t===-1&&n.inBounds==!h){this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",false,t,n,e)}this._dispatchMouseEvent(this,"stagemousemove",false,t,n,e);this._dispatchMouseEvent(n.target,"pressmove",true,t,n,e)}a&&a._handlePointerMove(t,e,i,r,null)};e._updatePointerPosition=function(t,e,i,r){if(e.type=="mousemove")this._lastMouseClientXY={ratio:this.getRatio(),clientX:e.clientX,clientY:e.clientY};var s=this._getElementRect(this.canvas);i-=s.left;r-=s.top;var a=this.canvas.width;var n=this.canvas.height;i/=(s.right-s.left)/a;r/=(s.bottom-s.top)/n;var h=this._getPointerData(t);if(h.inBounds=i>=0&&r>=0&&i<=a-1&&r<=n-1){h.x=i;h.y=r}else if(this.mouseMoveOutside){h.x=i<0?0:i>a-1?a-1:i;h.y=r<0?0:r>n-1?n-1:r}h.posEvtObj=e;h.rawX=i;h.rawY=r;if(t===this._primaryPointerID||t===-1){this.mouseX=h.x;this.mouseY=h.y;this.mouseInBounds=h.inBounds}};e.recalculatePointerPosition=function(){var t=this._lastMouseClientXY;var e=window.scrollX||window.pageXOffset||document.documentElement.scrollLeft;var i=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;if(t!=null){var r=t.ratio/this.getRatio();var s={};s.clientX=Math.round(t.clientX*r);s.clientY=Math.round(t.clientY*r);s.pageX=Math.round(s.clientX+e);s.pageY=Math.round(s.clientY+i);this._updatePointerPosition(-1,s,s.pageX,s.pageY)}};e.getRatio=function(){var t=0;var e=window.screen;var i=navigator.userAgent.toLowerCase();if(window.devicePixelRatio!==undefined){t=window.devicePixelRatio}else if(~i.indexOf("msie")){if(e.deviceXDPI&&e.logicalXDPI){t=e.deviceXDPI/e.logicalXDPI}}else if(window.outerWidth!==undefined&&window.innerWidth!==undefined){t=window.outerWidth/window.innerWidth}return t};e._handleMouseUp=function(t){this._handlePointerUp(-1,t,false)};e._handlePointerUp=function(t,e,i,r){var s=this._nextStage,a=this._getPointerData(t);if(this._prevStage&&r===undefined){return}var n=null,h=a.target;if(!r&&(h||s)){n=this._getObjectsUnderPoint(a.x,a.y,null,true)}if(a.down){this._dispatchMouseEvent(this,"stagemouseup",false,t,a,e,n);a.down=false}if(n==h){this._dispatchMouseEvent(h,"click",true,t,a,e)}this._dispatchMouseEvent(h,"pressup",true,t,a,e);if(i){if(t==this._primaryPointerID){this._primaryPointerID=null}delete this._pointerData[t]}else{a.target=null}s&&s._handlePointerUp(t,e,i,r||n&&this)};e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)};e._handlePointerDown=function(t,e,i,r,s){if(this.preventSelection){e.preventDefault()}if(this._primaryPointerID==null||t===-1){this._primaryPointerID=t}if(r!=null){this._updatePointerPosition(t,e,i,r)}var a=null,n=this._nextStage,h=this._getPointerData(t);if(!s){a=h.target=this._getObjectsUnderPoint(h.x,h.y,null,true)}if(h.inBounds){this._dispatchMouseEvent(this,"stagemousedown",false,t,h,e,a);h.down=true}this._dispatchMouseEvent(a,"mousedown",true,t,h,e);n&&n._handlePointerDown(t,e,i,r,s||a&&this)};e._testMouseOver=function(t,e,i){if(this._prevStage&&e===undefined){return}var r=this._nextStage;if(!this._mouseOverIntervalID){r&&r._testMouseOver(t,e,i);return}var s=this._getPointerData(-1);if(!s||!t&&this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds){return}var a=s.posEvtObj;var n=i||a&&a.target==this.canvas;var h=null,o=-1,u="",l,c,f;if(!e&&(t||this.mouseInBounds&&n)){h=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,true);this._mouseOverX=this.mouseX;this._mouseOverY=this.mouseY}var d=this._mouseOverTarget||[];var _=d[d.length-1];var p=this._mouseOverTarget=[];l=h;while(l){p.unshift(l);if(!u){u=l.cursor}l=l.parent}this.canvas.style.cursor=u;if(!e&&i){i.canvas.style.cursor=u}for(c=0,f=p.length;c<f;c++){if(p[c]!=d[c]){break}o=c}if(_!=h){this._dispatchMouseEvent(_,"mouseout",true,-1,s,a,h)}for(c=d.length-1;c>o;c--){this._dispatchMouseEvent(d[c],"rollout",false,-1,s,a,h)}for(c=p.length-1;c>o;c--){this._dispatchMouseEvent(p[c],"rollover",false,-1,s,a,_)}if(_!=h){this._dispatchMouseEvent(h,"mouseover",true,-1,s,a,_)}r&&r._testMouseOver(t,e||h&&this,i||n&&this)};e._handleDoubleClick=function(t,e){var i=null,r=this._nextStage,s=this._getPointerData(-1);if(!e){i=this._getObjectsUnderPoint(s.x,s.y,null,true);this._dispatchMouseEvent(i,"dblclick",true,-1,s,t)}r&&r._handleDoubleClick(t,e||i&&this)};e._dispatchMouseEvent=function(t,e,i,r,s,a,n){if(!t||!i&&!t.hasEventListener(e)){return}var h=new createjs.MouseEvent(e,i,false,s.x,s.y,a,r,r===this._primaryPointerID||r===-1,s.rawX,s.rawY,n);t.dispatchEvent(h)};createjs.Stage=createjs.promote(t,"Container")})();this.createjs=this.createjs||{};(function(){"use strict";function D(t,e){this.Stage_constructor(t);if(e!==undefined){if(typeof e!=="object"){throw"Invalid options object"}var i=e.premultiply;var r=e.transparent;var s=e.antialias;var a=e.preserveBuffer;var n=e.autoPurge}this.vocalDebug=false;this._preserveBuffer=a||false;this._antialias=s||false;this._transparent=r||false;this._premultiply=i||false;this._autoPurge=undefined;this.autoPurge=n;this._viewportWidth=0;this._viewportHeight=0;this._projectionMatrix=null;this._webGLContext=null;this._clearColor={r:.5,g:.5,b:.5,a:0};this._maxCardsPerBatch=D.DEFAULT_MAX_BATCH_SIZE;this._activeShader=null;this._vertices=null;this._vertexPositionBuffer=null;this._uvs=null;this._uvPositionBuffer=null;this._indices=null;this._textureIndexBuffer=null;this._alphas=null;this._alphaBuffer=null;this._textureDictionary=[];this._textureIDs={};this._batchTextures=[];this._baseTextures=[];this._batchTextureCount=8;this._lastTextureInsert=-1;this._batchID=0;this._drawID=0;this._slotBlacklist=[];this._isDrawing=0;this._lastTrackedCanvas=0;this.isCacheControlled=false;this._cacheContainer=new createjs.Container;this._initializeWebGL()}var t=createjs.extend(D,createjs.Stage);D.buildUVRects=function(t,e,i){if(!t||!t._frames){return null}if(e===undefined){e=-1}if(i===undefined){i=false}var r=e!=-1&&i?e:0;var s=e!=-1&&i?e+1:t._frames.length;for(var a=r;a<s;a++){var n=t._frames[a];if(n.uvRect||n.image.width<=0||n.image.height<=0){continue}var h=n.rect;n.uvRect={t:h.y/n.image.height,l:h.x/n.image.width,b:(h.y+h.height)/n.image.height,r:(h.x+h.width)/n.image.width}}return t._frames[e!=-1?e:0].uvRect||{t:0,l:0,b:1,r:1}};D.isWebGLActive=function(t){return t&&t instanceof WebGLRenderingContext&&typeof WebGLRenderingContext!=="undefined"};D.VERTEX_PROPERTY_COUNT=6;D.INDICIES_PER_CARD=6;D.DEFAULT_MAX_BATCH_SIZE=1e4;D.WEBGL_MAX_INDEX_NUM=Math.pow(2,16);D.UV_RECT={t:0,l:0,b:1,r:1};try{D.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]);D.COVER_UV=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]);D.COVER_UV_FLIP=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch(t){}D.REGULAR_VARYING_HEADER="precision mediump float;"+"varying vec2 vTextureCoord;"+"varying lowp float indexPicker;"+"varying lowp float alphaValue;";D.REGULAR_VERTEX_HEADER=D.REGULAR_VARYING_HEADER+"attribute vec2 vertexPosition;"+"attribute vec2 uvPosition;"+"attribute lowp float textureIndex;"+"attribute lowp float objectAlpha;"+"uniform mat4 pMatrix;";D.REGULAR_FRAGMENT_HEADER=D.REGULAR_VARYING_HEADER+"uniform sampler2D uSampler[{{count}}];";D.REGULAR_VERTEX_BODY="void main(void) {"+"gl_Position = vec4("+"(vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],"+"(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],"+"pMatrix[3][2],"+"1.0"+");"+"alphaValue = objectAlpha;"+"indexPicker = textureIndex;"+"vTextureCoord = uvPosition;"+"}";D.REGULAR_FRAGMENT_BODY="void main(void) {"+"vec4 color = vec4(1.0, 0.0, 0.0, 1.0);"+"if (indexPicker <= 0.5) {"+"color = texture2D(uSampler[0], vTextureCoord);"+"{{alternates}}"+"}"+"{{fragColor}}"+"}";D.REGULAR_FRAG_COLOR_NORMAL="gl_FragColor = vec4(color.rgb, color.a * alphaValue);";D.REGULAR_FRAG_COLOR_PREMULTIPLY="if(color.a > 0.0035) {"+"gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);"+"} else {"+"gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);"+"}";D.PARTICLE_VERTEX_BODY=D.REGULAR_VERTEX_BODY;D.PARTICLE_FRAGMENT_BODY=D.REGULAR_FRAGMENT_BODY;D.COVER_VARYING_HEADER="precision mediump float;"+"varying highp vec2 vRenderCoord;"+"varying highp vec2 vTextureCoord;";D.COVER_VERTEX_HEADER=D.COVER_VARYING_HEADER+"attribute vec2 vertexPosition;"+"attribute vec2 uvPosition;"+"uniform float uUpright;";D.COVER_FRAGMENT_HEADER=D.COVER_VARYING_HEADER+"uniform sampler2D uSampler;";D.COVER_VERTEX_BODY="void main(void) {"+"gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);"+"vRenderCoord = uvPosition;"+"vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));"+"}";D.COVER_FRAGMENT_BODY="void main(void) {"+"vec4 color = texture2D(uSampler, vRenderCoord);"+"gl_FragColor = color;"+"}";t._get_isWebGL=function(){return!!this._webGLContext};t._set_autoPurge=function(t){t=isNaN(t)?1200:t;if(t!=-1){t=t<10?10:t}this._autoPurge=t};t._get_autoPurge=function(){return Number(this._autoPurge)};try{Object.defineProperties(t,{isWebGL:{get:t._get_isWebGL},autoPurge:{get:t._get_autoPurge,set:t._set_autoPurge}})}catch(t){}t._initializeWebGL=function(){if(this.canvas){if(!this._webGLContext||this._webGLContext.canvas!==this.canvas){var t={depth:false,alpha:this._transparent,stencil:true,antialias:this._antialias,premultipliedAlpha:this._premultiply,preserveDrawingBuffer:this._preserveBuffer};var e=this._webGLContext=this._fetchWebGLContext(this.canvas,t);if(!e){return null}this.updateSimultaneousTextureCount(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));this._maxTextureSlots=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);this._createBuffers(e);this._initTextures(e);e.disable(e.DEPTH_TEST);e.enable(e.BLEND);e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiply);this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a);this.updateViewport(this._viewportWidth||this.canvas.width,this._viewportHeight||this.canvas.height)}}else{this._webGLContext=null}return this._webGLContext};t.update=function(t){if(!this.canvas){return}if(this.tickOnUpdate){this.tick(t)}this.dispatchEvent("drawstart");if(this.autoClear){this.clear()}if(this._webGLContext){this._batchDraw(this,this._webGLContext);if(this._autoPurge!=-1&&!(this._drawID%(this._autoPurge/2|0))){this.purgeTextures(this._autoPurge)}}else{var e=this.canvas.getContext("2d");e.save();this.updateContext(e);this.draw(e,false);e.restore()}this.dispatchEvent("drawend")};t.clear=function(){if(!this.canvas){return}if(D.isWebGLActive(this._webGLContext)){var t=this._webGLContext;var e=this._clearColor;var i=this._transparent?e.a:1;this._webGLContext.clearColor(e.r*i,e.g*i,e.b*i,i);t.clear(t.COLOR_BUFFER_BIT);this._webGLContext.clearColor(e.r,e.g,e.b,e.a)}else{this.Stage_clear()}};t.draw=function(t,e){if(t===this._webGLContext&&D.isWebGLActive(this._webGLContext)){var i=this._webGLContext;this._batchDraw(this,i,e);return true}else{return this.Stage_draw(t,e)}};t.cacheDraw=function(t,e,i){if(D.isWebGLActive(this._webGLContext)){var r=this._webGLContext;this._cacheDraw(r,t,e,i);return true}else{return false}};t.protectTextureSlot=function(t,e){if(t>this._maxTextureSlots||t<0){throw"Slot outside of acceptable range"}this._slotBlacklist[t]=!!e};t.getTargetRenderTexture=function(t,e,i){var r,s=false;var a=this._webGLContext;if(t.__lastRT!==undefined&&t.__lastRT===t.__rtA){s=true}if(!s){if(t.__rtA===undefined){t.__rtA=this.getRenderBufferTexture(e,i)}else{if(e!=t.__rtA._width||i!=t.__rtA._height){this.resizeTexture(t.__rtA,e,i)}this.setTextureParams(a)}r=t.__rtA}else{if(t.__rtB===undefined){t.__rtB=this.getRenderBufferTexture(e,i)}else{if(e!=t.__rtB._width||i!=t.__rtB._height){this.resizeTexture(t.__rtB,e,i)}this.setTextureParams(a)}r=t.__rtB}if(!r){throw"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances"}t.__lastRT=r;return r};t.releaseTexture=function(t){var e,i;if(!t){return}if(t.children){for(e=0,i=t.children.length;e<i;e++){this.releaseTexture(t.children[e])}}if(t.cacheCanvas){t.uncache()}var r=undefined;if(t._storeID!==undefined){if(t===this._textureDictionary[t._storeID]){this._killTextureObject(t);t._storeID=undefined;return}r=t}else if(t._webGLRenderStyle===2){r=t.image}else if(t._webGLRenderStyle===1){for(e=0,i=t.spriteSheet._images.length;e<i;e++){this.releaseTexture(t.spriteSheet._images[e])}return}if(r===undefined){if(this.vocalDebug){console.log("No associated texture found on release")}return}this._killTextureObject(this._textureDictionary[r._storeID]);r._storeID=undefined};t.purgeTextures=function(t){if(t==undefined){t=100}var e=this._textureDictionary;var i=e.length;for(var r=0;r<i;r++){var s=e[r];if(!s){continue}if(s._drawID+t<=this._drawID){this._killTextureObject(s)}}};t.updateSimultaneousTextureCount=function(t){var e=this._webGLContext;var i=false;if(t<1||isNaN(t)){t=1}this._batchTextureCount=t;while(!i){try{this._activeShader=this._fetchShaderProgram(e);i=true}catch(t){if(this._batchTextureCount==1){throw"Cannot compile shader "+t}this._batchTextureCount-=4;if(this._batchTextureCount<1){this._batchTextureCount=1}if(this.vocalDebug){console.log("Reducing desired texture count due to errors: "+this._batchTextureCount)}}}};t.updateViewport=function(t,e){this._viewportWidth=t|0;this._viewportHeight=e|0;var i=this._webGLContext;if(i){i.viewport(0,0,this._viewportWidth,this._viewportHeight);this._projectionMatrix=new Float32Array([2/this._viewportWidth,0,0,0,0,-2/this._viewportHeight,1,0,0,0,1,0,-1,1,.1,0]);this._projectionMatrixFlip=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);this._projectionMatrixFlip.set(this._projectionMatrix);this._projectionMatrixFlip[5]*=-1;this._projectionMatrixFlip[13]*=-1}};t.getFilterShader=function(t){if(!t){t=this}var e=this._webGLContext;var i=this._activeShader;if(t._builtShader){i=t._builtShader;if(t.shaderParamSetup){e.useProgram(i);t.shaderParamSetup(e,this,i)}}else{try{i=this._fetchShaderProgram(e,"filter",t.VTX_SHADER_BODY,t.FRAG_SHADER_BODY,t.shaderParamSetup&&t.shaderParamSetup.bind(t));t._builtShader=i;i._name=t.toString()}catch(t){console&&console.log("SHADER SWITCH FAILURE",t)}}return i};t.getBaseTexture=function(t,e){var i=Math.ceil(t>0?t:1)||1;var r=Math.ceil(e>0?e:1)||1;var s=this._webGLContext;var a=s.createTexture();this.resizeTexture(a,i,r);this.setTextureParams(s,false);return a};t.resizeTexture=function(t,e,i){var r=this._webGLContext;r.bindTexture(r.TEXTURE_2D,t);r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,i,0,r.RGBA,r.UNSIGNED_BYTE,null);t.width=e;t.height=i};t.getRenderBufferTexture=function(t,e){var i=this._webGLContext;var r=this.getBaseTexture(t,e);if(!r){return null}var s=i.createFramebuffer();if(!s){return null}r.width=t;r.height=e;i.bindFramebuffer(i.FRAMEBUFFER,s);i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,r,0);s._renderTexture=r;r._frameBuffer=s;r._storeID=this._textureDictionary.length;this._textureDictionary[r._storeID]=r;i.bindFramebuffer(i.FRAMEBUFFER,null);return r};t.setTextureParams=function(t,e){if(e&&this._antialias){t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)}else{t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)}t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)};t.setClearColor=function(t){var e,i,r,s,a;if(typeof t=="string"){if(t.indexOf("#")==0){if(t.length==4){t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)}e=Number("0x"+t.slice(1,3))/255;i=Number("0x"+t.slice(3,5))/255;r=Number("0x"+t.slice(5,7))/255;s=Number("0x"+t.slice(7,9))/255}else if(t.indexOf("rgba(")==0){a=t.slice(5,-1).split(",");e=Number(a[0])/255;i=Number(a[1])/255;r=Number(a[2])/255;s=Number(a[3])}}else{e=((t&4278190080)>>>24)/255;i=((t&16711680)>>>16)/255;r=((t&65280)>>>8)/255;s=(t&255)/255}this._clearColor.r=e||0;this._clearColor.g=i||0;this._clearColor.b=r||0;this._clearColor.a=s||0;if(!this._webGLContext){return}this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)};t.toString=function(){return"[StageGL (name="+this.name+")]"};t._fetchWebGLContext=function(t,e){var i;try{i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)}catch(t){}if(!i){var r="Could not initialize WebGL";console.error?console.error(r):console.log(r)}else{i.viewportWidth=t.width;i.viewportHeight=t.height}return i};t._fetchShaderProgram=function(t,e,i,r,s){t.useProgram(null);var a,n;switch(e){case"filter":n=D.COVER_VERTEX_HEADER+(i||D.COVER_VERTEX_BODY);a=D.COVER_FRAGMENT_HEADER+(r||D.COVER_FRAGMENT_BODY);break;case"particle":n=D.REGULAR_VERTEX_HEADER+D.PARTICLE_VERTEX_BODY;a=D.REGULAR_FRAGMENT_HEADER+D.PARTICLE_FRAGMENT_BODY;break;case"override":n=D.REGULAR_VERTEX_HEADER+(i||D.REGULAR_VERTEX_BODY);a=D.REGULAR_FRAGMENT_HEADER+(r||D.REGULAR_FRAGMENT_BODY);break;case"regular":default:n=D.REGULAR_VERTEX_HEADER+D.REGULAR_VERTEX_BODY;a=D.REGULAR_FRAGMENT_HEADER+D.REGULAR_FRAGMENT_BODY;break}var h=this._createShader(t,t.VERTEX_SHADER,n);var o=this._createShader(t,t.FRAGMENT_SHADER,a);var u=t.createProgram();t.attachShader(u,h);t.attachShader(u,o);t.linkProgram(u);u._type=e;if(!t.getProgramParameter(u,t.LINK_STATUS)){t.useProgram(this._activeShader);throw t.getProgramInfoLog(u)}t.useProgram(u);switch(e){case"filter":u.vertexPositionAttribute=t.getAttribLocation(u,"vertexPosition");t.enableVertexAttribArray(u.vertexPositionAttribute);u.uvPositionAttribute=t.getAttribLocation(u,"uvPosition");t.enableVertexAttribArray(u.uvPositionAttribute);u.samplerUniform=t.getUniformLocation(u,"uSampler");t.uniform1i(u.samplerUniform,0);u.uprightUniform=t.getUniformLocation(u,"uUpright");t.uniform1f(u.uprightUniform,0);if(s){s(t,this,u)}break;case"override":case"particle":case"regular":default:u.vertexPositionAttribute=t.getAttribLocation(u,"vertexPosition");t.enableVertexAttribArray(u.vertexPositionAttribute);u.uvPositionAttribute=t.getAttribLocation(u,"uvPosition");t.enableVertexAttribArray(u.uvPositionAttribute);u.textureIndexAttribute=t.getAttribLocation(u,"textureIndex");t.enableVertexAttribArray(u.textureIndexAttribute);u.alphaAttribute=t.getAttribLocation(u,"objectAlpha");t.enableVertexAttribArray(u.alphaAttribute);var l=[];for(var c=0;c<this._batchTextureCount;c++){l[c]=c}u.samplerData=l;u.samplerUniform=t.getUniformLocation(u,"uSampler");t.uniform1iv(u.samplerUniform,l);u.pMatrixUniform=t.getUniformLocation(u,"pMatrix");break}t.useProgram(this._activeShader);return u};t._createShader=function(t,e,i){i=i.replace(/{{count}}/g,this._batchTextureCount);var r="";for(var s=1;s<this._batchTextureCount;s++){r+="} else if (indexPicker <= "+s+".5) { color = texture2D(uSampler["+s+"], vTextureCoord);"}i=i.replace(/{{alternates}}/g,r);i=i.replace(/{{fragColor}}/g,this._premultiply?D.REGULAR_FRAG_COLOR_PREMULTIPLY:D.REGULAR_FRAG_COLOR_NORMAL);var a=t.createShader(e);t.shaderSource(a,i);t.compileShader(a);if(!t.getShaderParameter(a,t.COMPILE_STATUS)){throw t.getShaderInfoLog(a)}return a};t._createBuffers=function(t){var e=this._maxCardsPerBatch*D.INDICIES_PER_CARD;var i,r,s;var a=this._vertexPositionBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a);i=2;var n=this._vertices=new Float32Array(e*i);for(r=0,s=n.length;r<s;r+=i){n[r]=n[r+1]=0}t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW);a.itemSize=i;a.numItems=e;var h=this._uvPositionBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h);i=2;var o=this._uvs=new Float32Array(e*i);for(r=0,s=o.length;r<s;r+=i){o[r]=o[r+1]=0}t.bufferData(t.ARRAY_BUFFER,o,t.DYNAMIC_DRAW);h.itemSize=i;h.numItems=e;var u=this._textureIndexBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u);i=1;var l=this._indices=new Float32Array(e*i);for(r=0,s=l.length;r<s;r++){l[r]=0}t.bufferData(t.ARRAY_BUFFER,l,t.DYNAMIC_DRAW);u.itemSize=i;u.numItems=e;var c=this._alphaBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c);i=1;var f=this._alphas=new Float32Array(e*i);for(r=0,s=f.length;r<s;r++){f[r]=1}t.bufferData(t.ARRAY_BUFFER,f,t.DYNAMIC_DRAW);c.itemSize=i;c.numItems=e};t._initTextures=function(){this._lastTextureInsert=-1;this._textureDictionary=[];this._textureIDs={};this._baseTextures=[];this._batchTextures=[];for(var t=0;t<this._batchTextureCount;t++){var e=this.getBaseTexture();this._baseTextures[t]=this._batchTextures[t]=e;if(!e){throw"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances"}}};t._loadTextureImage=function(t,e){var i=e.src;if(!i){e._isCanvas=true;i=e.src="canvas_"+this._lastTrackedCanvas++}var r=this._textureIDs[i];if(r===undefined){r=this._textureIDs[i]=this._textureDictionary.length}if(this._textureDictionary[r]===undefined){this._textureDictionary[r]=this.getBaseTexture()}var s=this._textureDictionary[r];if(s){s._batchID=this._batchID;s._storeID=r;s._imageData=e;this._insertTextureInBatch(t,s);e._storeID=r;if(e.complete||e.naturalWidth||e._isCanvas){this._updateTextureImageData(t,e)}else{e.addEventListener("load",this._updateTextureImageData.bind(this,t,e))}}else{var a="Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances";console.error&&console.error(a)||console.log(a);s=this._baseTextures[0];s._batchID=this._batchID;s._storeID=-1;s._imageData=s;this._insertTextureInBatch(t,s)}return s};t._updateTextureImageData=function(t,e){var i=e.width&e.width-1||e.height&e.height-1;var r=this._textureDictionary[e._storeID];t.activeTexture(t.TEXTURE0+r._activeIndex);t.bindTexture(t.TEXTURE_2D,r);r.isPOT=!i;this.setTextureParams(t,r.isPOT);try{t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}catch(t){var s="\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins";if(console.error){console.error(s);console.error(t)}else if(console){console.log(s);console.log(t)}}e._invalid=false;r._w=e.width;r._h=e.height;if(this.vocalDebug){if(i){console.warn("NPOT(Non Power of Two) Texture: "+e.src)}if(e.width>t.MAX_TEXTURE_SIZE||e.height>t.MAX_TEXTURE_SIZE){console&&console.error("Oversized Texture: "+e.width+"x"+e.height+" vs "+t.MAX_TEXTURE_SIZE+"max")}}};t._insertTextureInBatch=function(t,e){if(this._batchTextures[e._activeIndex]!==e){var i=-1;var r=(this._lastTextureInsert+1)%this._batchTextureCount;var s=r;do{if(this._batchTextures[s]._batchID!=this._batchID&&!this._slotBlacklist[s]){i=s;break}s=(s+1)%this._batchTextureCount}while(s!==r);if(i===-1){this.batchReason="textureOverflow";this._drawBuffers(t);this.batchCardCount=0;i=r}this._batchTextures[i]=e;e._activeIndex=i;var a=e._imageData;if(a&&a._invalid&&e._drawID!==undefined){this._updateTextureImageData(t,a)}else{t.activeTexture(t.TEXTURE0+i);t.bindTexture(t.TEXTURE_2D,e);this.setTextureParams(t)}this._lastTextureInsert=i}else{var a=e._imageData;if(e._storeID!=undefined&&a&&a._invalid){this._updateTextureImageData(t,a)}}e._drawID=this._drawID;e._batchID=this._batchID};t._killTextureObject=function(t){if(!t){return}var e=this._webGLContext;if(t._storeID!==undefined&&t._storeID>=0){this._textureDictionary[t._storeID]=undefined;for(var i in this._textureIDs){if(this._textureIDs[i]==t._storeID){delete this._textureIDs[i]}}if(t._imageData){t._imageData._storeID=undefined}t._imageData=t._storeID=undefined}if(t._activeIndex!==undefined&&this._batchTextures[t._activeIndex]===t){this._batchTextures[t._activeIndex]=this._baseTextures[t._activeIndex]}try{if(t._frameBuffer){e.deleteFramebuffer(t._frameBuffer)}t._frameBuffer=undefined}catch(t){if(this.vocalDebug){console.log(t)}}try{e.deleteTexture(t)}catch(t){if(this.vocalDebug){console.log(t)}}};t._backupBatchTextures=function(t,e){var i=this._webGLContext;if(!this._backupTextures){this._backupTextures=[]}if(e===undefined){e=this._backupTextures}for(var r=0;r<this._batchTextureCount;r++){i.activeTexture(i.TEXTURE0+r);if(t){this._batchTextures[r]=e[r]}else{e[r]=this._batchTextures[r];this._batchTextures[r]=this._baseTextures[r]}i.bindTexture(i.TEXTURE_2D,this._batchTextures[r]);this.setTextureParams(i,this._batchTextures[r].isPOT)}if(t&&e===this._backupTextures){this._backupTextures=[]}};t._batchDraw=function(t,e,i){if(this._isDrawing>0){this._drawBuffers(e)}this._isDrawing++;this._drawID++;this.batchCardCount=0;this.depth=0;this._appendToBatchGroup(t,e,new createjs.Matrix2D,this.alpha,i);this.batchReason="drawFinish";this._drawBuffers(e);this._isDrawing--};t._cacheDraw=function(t,e,i,r){var s;var a=this._activeShader;var n=this._slotBlacklist;var h=this._maxTextureSlots-1;var o=this._viewportWidth,u=this._viewportHeight;this.protectTextureSlot(h,true);var l=e.getMatrix();l=l.clone();l.scale(1/r.scale,1/r.scale);l=l.invert();l.translate(-r.offX/r.scale*e.scaleX,-r.offY/r.scale*e.scaleY);var c=this._cacheContainer;c.children=[e];c.transformMatrix=l;this._backupBatchTextures(false);if(i&&i.length){this._drawFilters(e,i,r)}else{if(this.isCacheControlled){t.clear(t.COLOR_BUFFER_BIT);this._batchDraw(c,t,true)}else{t.activeTexture(t.TEXTURE0+h);e.cacheCanvas=this.getTargetRenderTexture(e,r._drawWidth,r._drawHeight);s=e.cacheCanvas;t.bindFramebuffer(t.FRAMEBUFFER,s._frameBuffer);this.updateViewport(r._drawWidth,r._drawHeight);this._projectionMatrix=this._projectionMatrixFlip;t.clear(t.COLOR_BUFFER_BIT);this._batchDraw(c,t,true);t.bindFramebuffer(t.FRAMEBUFFER,null);this.updateViewport(o,u)}}this._backupBatchTextures(true);this.protectTextureSlot(h,false);this._activeShader=a;this._slotBlacklist=n};t._drawFilters=function(t,e,i){var r=this._webGLContext;var s;var a=this._maxTextureSlots-1;var n=this._viewportWidth,h=this._viewportHeight;var o=this._cacheContainer;var u=e.length;r.activeTexture(r.TEXTURE0+a);s=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight);r.bindFramebuffer(r.FRAMEBUFFER,s._frameBuffer);this.updateViewport(i._drawWidth,i._drawHeight);r.clear(r.COLOR_BUFFER_BIT);this._batchDraw(o,r,true);r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,s);this.setTextureParams(r);var l=false;var c=0,f=e[c];do{this._activeShader=this.getFilterShader(f);if(!this._activeShader){continue}r.activeTexture(r.TEXTURE0+a);s=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight);r.bindFramebuffer(r.FRAMEBUFFER,s._frameBuffer);r.viewport(0,0,i._drawWidth,i._drawHeight);r.clear(r.COLOR_BUFFER_BIT);this._drawCover(r,l);r.activeTexture(r.TEXTURE0);r.bindTexture(r.TEXTURE_2D,s);this.setTextureParams(r);if(u>1||e[0]._multiPass){l=!l}f=f._multiPass!==null?f._multiPass:e[++c]}while(f);if(this.isCacheControlled){r.bindFramebuffer(r.FRAMEBUFFER,null);this.updateViewport(n,h);this._activeShader=this.getFilterShader(this);r.clear(r.COLOR_BUFFER_BIT);this._drawCover(r,l)}else{if(l){r.activeTexture(r.TEXTURE0+a);s=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight);r.bindFramebuffer(r.FRAMEBUFFER,s._frameBuffer);this._activeShader=this.getFilterShader(this);r.viewport(0,0,i._drawWidth,i._drawHeight);r.clear(r.COLOR_BUFFER_BIT);this._drawCover(r,!l)}r.bindFramebuffer(r.FRAMEBUFFER,null);this.updateViewport(n,h);t.cacheCanvas=s}};t._appendToBatchGroup=function(t,e,i,r,s){if(!t._glMtx){t._glMtx=new createjs.Matrix2D}var a=t._glMtx;a.copy(i);if(t.transformMatrix){a.appendMatrix(t.transformMatrix)}else{a.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)}var n,h,o,u;var l=t.children.length;for(var c=0;c<l;c++){var f=t.children[c];if(!(f.visible&&r)){continue}if(!f.cacheCanvas||s){if(f._updateState){f._updateState()}if(f.children){this._appendToBatchGroup(f,e,a,f.alpha*r);continue}}if(this.batchCardCount+1>this._maxCardsPerBatch){this.batchReason="vertexOverflow";this._drawBuffers(e);this.batchCardCount=0}if(!f._glMtx){f._glMtx=new createjs.Matrix2D}var d=f._glMtx;d.copy(a);if(f.transformMatrix){d.appendMatrix(f.transformMatrix)}else{d.appendTransform(f.x,f.y,f.scaleX,f.scaleY,f.rotation,f.skewX,f.skewY,f.regX,f.regY)}var _,p,v,g,m,x;var b=f.cacheCanvas&&!s;if(f._webGLRenderStyle===2||b){v=(s?false:f.cacheCanvas)||f.image}else if(f._webGLRenderStyle===1){g=f.spriteSheet.getFrame(f.currentFrame);if(g===null){continue}v=g.image}else{continue}var w=this._uvs;var E=this._vertices;var T=this._indices;var R=this._alphas;if(!v){continue}if(v._storeID===undefined){m=this._loadTextureImage(e,v);this._insertTextureInBatch(e,m)}else{m=this._textureDictionary[v._storeID];if(!m){if(this.vocalDebug){console.log("Texture should not be looked up while not being stored.")}continue}if(m._batchID!==this._batchID){this._insertTextureInBatch(e,m)}}p=m._activeIndex;if(f._webGLRenderStyle===2||b){if(!b&&f.sourceRect){if(!f._uvRect){f._uvRect={}}x=f.sourceRect;_=f._uvRect;_.t=x.y/v.height;_.l=x.x/v.width;_.b=(x.y+x.height)/v.height;_.r=(x.x+x.width)/v.width;n=0;h=0;o=x.width+n;u=x.height+h}else{_=D.UV_RECT;if(b){x=f.bitmapCache;n=x.x+x._filterOffX/x.scale;h=x.y+x._filterOffY/x.scale;o=x._drawWidth/x.scale+n;u=x._drawHeight/x.scale+h}else{n=0;h=0;o=v.width+n;u=v.height+h}}}else if(f._webGLRenderStyle===1){var y=g.rect;_=g.uvRect;if(!_){_=D.buildUVRects(f.spriteSheet,f.currentFrame,false)}n=-g.regX;h=-g.regY;o=y.width-g.regX;u=y.height-g.regY}var C=this.batchCardCount*D.INDICIES_PER_CARD;var S=C*2;E[S]=n*d.a+h*d.c+d.tx;E[S+1]=n*d.b+h*d.d+d.ty;E[S+2]=n*d.a+u*d.c+d.tx;E[S+3]=n*d.b+u*d.d+d.ty;E[S+4]=o*d.a+h*d.c+d.tx;E[S+5]=o*d.b+h*d.d+d.ty;E[S+6]=E[S+2];E[S+7]=E[S+3];E[S+8]=E[S+4];E[S+9]=E[S+5];E[S+10]=o*d.a+u*d.c+d.tx;E[S+11]=o*d.b+u*d.d+d.ty;w[S]=_.l;w[S+1]=_.t;w[S+2]=_.l;w[S+3]=_.b;w[S+4]=_.r;w[S+5]=_.t;w[S+6]=_.l;w[S+7]=_.b;w[S+8]=_.r;w[S+9]=_.t;w[S+10]=_.r;w[S+11]=_.b;T[C]=T[C+1]=T[C+2]=T[C+3]=T[C+4]=T[C+5]=p;R[C]=R[C+1]=R[C+2]=R[C+3]=R[C+4]=R[C+5]=f.alpha*r;this.batchCardCount++}};t._drawBuffers=function(t){if(this.batchCardCount<=0){return}if(this.vocalDebug){console.log("Draw["+this._drawID+":"+this._batchID+"] : "+this.batchReason)}var e=this._activeShader;var i=this._vertexPositionBuffer;var r=this._textureIndexBuffer;var s=this._uvPositionBuffer;var a=this._alphaBuffer;t.useProgram(e);t.bindBuffer(t.ARRAY_BUFFER,i);t.vertexAttribPointer(e.vertexPositionAttribute,i.itemSize,t.FLOAT,false,0,0);t.bufferSubData(t.ARRAY_BUFFER,0,this._vertices);t.bindBuffer(t.ARRAY_BUFFER,r);t.vertexAttribPointer(e.textureIndexAttribute,r.itemSize,t.FLOAT,false,0,0);t.bufferSubData(t.ARRAY_BUFFER,0,this._indices);t.bindBuffer(t.ARRAY_BUFFER,s);t.vertexAttribPointer(e.uvPositionAttribute,s.itemSize,t.FLOAT,false,0,0);t.bufferSubData(t.ARRAY_BUFFER,0,this._uvs);t.bindBuffer(t.ARRAY_BUFFER,a);t.vertexAttribPointer(e.alphaAttribute,a.itemSize,t.FLOAT,false,0,0);t.bufferSubData(t.ARRAY_BUFFER,0,this._alphas);t.uniformMatrix4fv(e.pMatrixUniform,t.FALSE,this._projectionMatrix);for(var n=0;n<this._batchTextureCount;n++){var h=this._batchTextures[n];t.activeTexture(t.TEXTURE0+n);t.bindTexture(t.TEXTURE_2D,h);this.setTextureParams(t,h.isPOT)}t.drawArrays(t.TRIANGLES,0,this.batchCardCount*D.INDICIES_PER_CARD);this._batchID++};t._drawCover=function(t,e){if(this._isDrawing>0){this._drawBuffers(t)}if(this.vocalDebug){console.log("Draw["+this._drawID+":"+this._batchID+"] : "+"Cover")}var i=this._activeShader;var r=this._vertexPositionBuffer;var s=this._uvPositionBuffer;t.clear(t.COLOR_BUFFER_BIT);t.useProgram(i);t.bindBuffer(t.ARRAY_BUFFER,r);t.vertexAttribPointer(i.vertexPositionAttribute,r.itemSize,t.FLOAT,false,0,0);t.bufferSubData(t.ARRAY_BUFFER,0,D.COVER_VERT);t.bindBuffer(t.ARRAY_BUFFER,s);t.vertexAttribPointer(i.uvPositionAttribute,s.itemSize,t.FLOAT,false,0,0);t.bufferSubData(t.ARRAY_BUFFER,0,e?D.COVER_UV_FLIP:D.COVER_UV);t.uniform1i(i.samplerUniform,0);t.uniform1f(i.uprightUniform,e?0:1);t.drawArrays(t.TRIANGLES,0,D.INDICIES_PER_CARD)};createjs.StageGL=createjs.promote(D,"Stage")})();this.createjs=this.createjs||{};(function(){function r(t){this.DisplayObject_constructor();if(typeof t=="string"){this.image=document.createElement("img");this.image.src=t}else{this.image=t}this.sourceRect=null;this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var t=createjs.extend(r,createjs.DisplayObject);t.initialize=r;t.isVisible=function(){var t=this.image;var e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&e)};t.draw=function(t,e){if(this.DisplayObject_draw(t,e)){return true}var i=this.image,r=this.sourceRect;if(i.getImage){i=i.getImage()}if(!i){return true}if(r){var s=r.x,a=r.y,n=s+r.width,h=a+r.height,o=0,u=0,l=i.width,c=i.height;if(s<0){o-=s;s=0}if(n>l){n=l}if(a<0){u-=a;a=0}if(h>c){h=c}t.drawImage(i,s,a,n-s,h-a,o,u,n-s,h-a)}else{t.drawImage(i,0,0)}return true};t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t){return t}var e=this.image,i=this.sourceRect||e;var r=e&&(e.naturalWidth||e.getContext||e.readyState>=2);return r?this._rectangle.setValues(0,0,i.width,i.height):null};t.clone=function(t){var e=this.image;if(e&&t){e=e.cloneNode()}var i=new r(e);if(this.sourceRect){i.sourceRect=this.sourceRect.clone()}this._cloneProps(i);return i};t.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(r,"DisplayObject")})();this.createjs=this.createjs||{};(function(){"use strict";function t(t,e){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=true;this.spriteSheet=t;this.currentAnimationFrame=0;this.framerate=0;this._animation=null;this._currentFrame=null;this._skipAdvance=false;this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE;if(e!=null){this.gotoAndPlay(e)}}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t;e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&t)};e.draw=function(t,e){if(this.DisplayObject_draw(t,e)){return true}this._normalizeFrame();var i=this.spriteSheet.getFrame(this._currentFrame|0);if(!i){return false}var r=i.rect;if(r.width&&r.height){t.drawImage(i.image,r.x,r.y,r.width,r.height,-i.regX,-i.regY,r.width,r.height)}return true};e.play=function(){this.paused=false};e.stop=function(){this.paused=true};e.gotoAndPlay=function(t){this.paused=false;this._skipAdvance=true;this._goto(t)};e.gotoAndStop=function(t){this.paused=true;this._goto(t)};e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate;var i=e&&t!=null?t/(1e3/e):1;this._normalizeFrame(i)};e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};e.clone=function(){return this._cloneProps(new t(this.spriteSheet))};e.toString=function(){return"[Sprite (name="+this.name+")]"};e._cloneProps=function(t){this.DisplayObject__cloneProps(t);t.currentFrame=this.currentFrame;t.currentAnimation=this.currentAnimation;t.paused=this.paused;t.currentAnimationFrame=this.currentAnimationFrame;t.framerate=this.framerate;t._animation=this._animation;t._currentFrame=this._currentFrame;t._skipAdvance=this._skipAdvance;return t};e._tick=function(t){if(!this.paused){if(!this._skipAdvance){this.advance(t&&t.delta)}this._skipAdvance=false}this.DisplayObject__tick(t)};e._normalizeFrame=function(t){t=t||0;var e=this._animation;var i=this.paused;var r=this._currentFrame;var s;if(e){var a=e.speed||1;var n=this.currentAnimationFrame;s=e.frames.length;if(n+t*a>=s){var h=e.next;if(this._dispatchAnimationEnd(e,r,i,h,s-1)){return}else if(h){return this._goto(h,t-(s-n)/a)}else{this.paused=true;n=e.frames.length-1}}else{n+=t*a}this.currentAnimationFrame=n;this._currentFrame=e.frames[n|0]}else{r=this._currentFrame+=t;s=this.spriteSheet.getNumFrames();if(r>=s&&s>0){if(!this._dispatchAnimationEnd(e,r,i,s-1)){if((this._currentFrame-=s)>=s){return this._normalizeFrame()}}}}r=this._currentFrame|0;if(this.currentFrame!=r){this.currentFrame=r;this.dispatchEvent("change")}};e._dispatchAnimationEnd=function(t,e,i,r,s){var a=t?t.name:null;if(this.hasEventListener("animationend")){var n=new createjs.Event("animationend");n.name=a;n.next=r;this.dispatchEvent(n)}var h=this._animation!=t||this._currentFrame!=e;if(!h&&!i&&this.paused){this.currentAnimationFrame=s;h=true}return h};e._goto=function(t,e){this.currentAnimationFrame=0;if(isNaN(t)){var i=this.spriteSheet.getAnimation(t);if(i){this._animation=i;this.currentAnimation=t;this._normalizeFrame(e)}}else{this.currentAnimation=this._animation=null;this._currentFrame=t;this._normalizeFrame()}};createjs.Sprite=createjs.promote(t,"DisplayObject")})();this.createjs=this.createjs||{};(function(){"use strict";function i(t){this.DisplayObject_constructor();this.graphics=t?t:new createjs.Graphics}var t=createjs.extend(i,createjs.DisplayObject);t.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&t)};t.draw=function(t,e){if(this.DisplayObject_draw(t,e)){return true}this.graphics.draw(t,this);return true};t.clone=function(t){var e=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new i(e))};t.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(i,"DisplayObject")})();this.createjs=this.createjs||{};(function(){"use strict";function v(t,e,i){this.DisplayObject_constructor();this.text=t;this.font=e;this.color=i;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.outline=0;this.lineHeight=0;this.lineWidth=null}var t=createjs.extend(v,createjs.DisplayObject);var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(e.getContext){v._workingContext=e.getContext("2d");e.width=e.height=1}v.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};v.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};t.isVisible=function(){var t=this.cacheCanvas||this.text!=null&&this.text!=="";return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&t)};t.draw=function(t,e){if(this.DisplayObject_draw(t,e)){return true}var i=this.color||"#000";if(this.outline){t.strokeStyle=i;t.lineWidth=this.outline*1}else{t.fillStyle=i}this._drawText(this._prepContext(t));return true};t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};t.getMeasuredLineHeight=function(){return this._getMeasuredWidth("M")*1.2};t.getMeasuredHeight=function(){return this._drawText(null,{}).height};t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t){return t}if(this.text==null||this.text===""){return null}var e=this._drawText(null,{});var i=this.maxWidth&&this.maxWidth<e.width?this.maxWidth:e.width;var r=i*v.H_OFFSETS[this.textAlign||"left"];var s=this.lineHeight||this.getMeasuredLineHeight();var a=s*v.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(r,a,i,e.height)};t.getMetrics=function(){var t={lines:[]};t.lineHeight=this.lineHeight||this.getMeasuredLineHeight();t.vOffset=t.lineHeight*v.V_OFFSETS[this.textBaseline||"top"];return this._drawText(null,t,t.lines)};t.clone=function(){return this._cloneProps(new v(this.text,this.font,this.color))};t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"};t._cloneProps=function(t){this.DisplayObject__cloneProps(t);t.textAlign=this.textAlign;t.textBaseline=this.textBaseline;t.maxWidth=this.maxWidth;t.outline=this.outline;t.lineHeight=this.lineHeight;t.lineWidth=this.lineWidth;return t};t._prepContext=function(t){t.font=this.font||"10px sans-serif";t.textAlign=this.textAlign||"left";t.textBaseline=this.textBaseline||"top";t.lineJoin="miter";t.miterLimit=2.5;return t};t._drawText=function(t,e,i){var r=!!t;if(!r){t=v._workingContext;t.save();this._prepContext(t)}var s=this.lineHeight||this.getMeasuredLineHeight();var a=0,n=0;var h=String(this.text).split(/(?:\r\n|\r|\n)/);for(var o=0,u=h.length;o<u;o++){var l=h[o];var c=null;if(this.lineWidth!=null&&(c=t.measureText(l).width)>this.lineWidth){var f=l.split(/(\s)/);l=f[0];c=t.measureText(l).width;for(var d=1,_=f.length;d<_;d+=2){var p=t.measureText(f[d]+f[d+1]).width;if(c+p>this.lineWidth){if(r){this._drawTextLine(t,l,n*s)}if(i){i.push(l)}if(c>a){a=c}l=f[d+1];c=t.measureText(l).width;n++}else{l+=f[d]+f[d+1];c+=p}}}if(r){this._drawTextLine(t,l,n*s)}if(i){i.push(l)}if(e&&c==null){c=t.measureText(l).width}if(c>a){a=c}n++}if(e){e.width=a;e.height=n*s}if(!r){t.restore()}return e};t._drawTextLine=function(t,e,i){if(this.outline){t.strokeText(e,0,i,this.maxWidth||65535)}else{t.fillText(e,0,i,this.maxWidth||65535)}};t._getMeasuredWidth=function(t){var e=v._workingContext;e.save();var i=this._prepContext(e).measureText(t).width;e.restore();return i};createjs.Text=createjs.promote(v,"DisplayObject")})();this.createjs=this.createjs||{};(function(){"use strict";function m(t,e){this.Container_constructor();this.text=t||"";this.spriteSheet=e;this.lineHeight=0;this.letterSpacing=0;this.spaceWidth=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0};this._oldStage=null;this._drawAction=null}var t=createjs.extend(m,createjs.Container);m.maxPoolSize=100;m._spritePool=[];t.draw=function(t,e){if(this.DisplayObject_draw(t,e)){return}this._updateState();this.Container_draw(t,e)};t.getBounds=function(){this._updateText();return this.Container_getBounds()};t.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&this.scaleX!==0&&this.scaleY!==0&&t)};t.clone=function(){return this._cloneProps(new m(this.text,this.spriteSheet))};t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){};t._updateState=function(){this._updateText()};t._cloneProps=function(t){this.Container__cloneProps(t);t.lineHeight=this.lineHeight;t.letterSpacing=this.letterSpacing;t.spaceWidth=this.spaceWidth;return t};t._getFrameIndex=function(t,e){var i,r=e.getAnimation(t);if(!r){t!=(i=t.toUpperCase())||t!=(i=t.toLowerCase())||(i=null);if(i){r=e.getAnimation(i)}}return r&&r.frames[0]};t._getFrame=function(t,e){var i=this._getFrameIndex(t,e);return i==null?i:e.getFrame(i)};t._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1};t._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1};t._updateText=function(){var t=0,e=0,i=this._oldProps,r=false,s=this.spaceWidth,a=this.lineHeight,n=this.spriteSheet;var h=m._spritePool,o=this.children,u=0,l=o.length,c;for(var f in i){if(i[f]!=this[f]){i[f]=this[f];r=true}}if(!r){return}var d=!!this._getFrame(" ",n);if(!d&&!s){s=this._getSpaceWidth(n)}if(!a){a=this._getLineHeight(n)}for(var _=0,p=this.text.length;_<p;_++){var v=this.text.charAt(_);if(v==" "&&!d){t+=s;continue}else if(v=="\n"||v=="\r"){if(v=="\r"&&this.text.charAt(_+1)=="\n"){_++}t=0;e+=a;continue}var g=this._getFrameIndex(v,n);if(g==null){continue}if(u<l){c=o[u]}else{o.push(c=h.length?h.pop():new createjs.Sprite);c.parent=this;l++}c.spriteSheet=n;c.gotoAndStop(g);c.x=t;c.y=e;u++;t+=c.getBounds().width+this.letterSpacing}while(l>u){h.push(c=o.pop());c.parent=null;l--}if(h.length>m.maxPoolSize){h.length=m.maxPoolSize}};createjs.BitmapText=createjs.promote(m,"Container")})();this.createjs=this.createjs||{};(function(){"use strict";function n(t){this.Container_constructor();!n.inited&&n.init();var e,i,r,s;if(t instanceof String||arguments.length>1){e=t;i=arguments[1];r=arguments[2];s=arguments[3];if(r==null){r=-1}t=null}else if(t){e=t.mode;i=t.startPosition;r=t.loop;s=t.labels}if(!t){t={labels:s}}this.mode=e||n.INDEPENDENT;this.startPosition=i||0;this.loop=r===true?-1:r||0;this.currentFrame=0;this.paused=t.paused||false;this.actionsEnabled=true;this.autoReset=true;this.frameBounds=this.frameBounds||t.frameBounds;this.framerate=null;t.useTicks=t.paused=true;this.timeline=new createjs.Timeline(t);this._synchOffset=0;this._rawPosition=-1;this._bound_resolveState=this._resolveState.bind(this);this._t=0;this._managed={}}var t=createjs.extend(n,createjs.Container);n.INDEPENDENT="independent";n.SINGLE_FRAME="single";n.SYNCHED="synched";n.inited=false;n.init=function(){if(n.inited){return}r.install();n.inited=true};t._getLabels=function(){return this.timeline.getLabels()};t.getLabels=createjs.deprecate(t._getLabels,"MovieClip.getLabels");t._getCurrentLabel=function(){return this.timeline.currentLabel};t.getCurrentLabel=createjs.deprecate(t._getCurrentLabel,"MovieClip.getCurrentLabel");t._getDuration=function(){return this.timeline.duration};t.getDuration=createjs.deprecate(t._getDuration,"MovieClip.getDuration");try{Object.defineProperties(t,{labels:{get:t._getLabels},currentLabel:{get:t._getCurrentLabel},totalFrames:{get:t._getDuration},duration:{get:t._getDuration}})}catch(t){}t.initialize=n;t.isVisible=function(){return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)};t.draw=function(t,e){if(this.DisplayObject_draw(t,e)){return true}this._updateState();this.Container_draw(t,e);return true};t.play=function(){this.paused=false};t.stop=function(){this.paused=true};t.gotoAndPlay=function(t){this.paused=false;this._goto(t)};t.gotoAndStop=function(t){this.paused=true;this._goto(t)};t.advance=function(t){var e=n.INDEPENDENT;if(this.mode!==e){return}var i=this,r=i.framerate;while((i=i.parent)&&r===null){if(i.mode===e){r=i._framerate}}this._framerate=r;if(this.paused){return}var s=r!==null&&r!==-1&&t!==null?t/(1e3/r)+this._t:1;var a=s|0;this._t=s-a;while(a--){this._updateTimeline(this._rawPosition+1,false)}};t.clone=function(){throw"MovieClip cannot be cloned."};t.toString=function(){return"[MovieClip (name="+this.name+")]"};t._updateState=function(){if(this._rawPosition===-1||this.mode!==n.INDEPENDENT){this._updateTimeline(-1)}};t._tick=function(t){this.advance(t&&t.delta);this.Container__tick(t)};t._goto=function(t){var e=this.timeline.resolve(t);if(e==null){return}this._t=0;this._updateTimeline(e,true)};t._reset=function(){this._rawPosition=-1;this._t=this.currentFrame=0;this.paused=false};t._updateTimeline=function(t,e){var i=this.mode!==n.INDEPENDENT,r=this.timeline;if(i){t=this.startPosition+(this.mode===n.SINGLE_FRAME?0:this._synchOffset)}if(t<0){t=0}if(this._rawPosition===t&&!i){return}this._rawPosition=t;r.loop=this.loop;r.setPosition(t,i||!this.actionsEnabled,e,this._bound_resolveState)};t._renderFirstFrame=function(){var t=this.timeline,e=t.rawPosition;t.setPosition(0,true,true,this._bound_resolveState);t.rawPosition=e};t._resolveState=function(){var t=this.timeline;this.currentFrame=t.position;for(var e in this._managed){this._managed[e]=1}var i=t.tweens;for(var r=0,s=i.length;r<s;r++){var a=i[r],n=a.target;if(n===this||a.passive){continue}var h=a._stepPosition;if(n instanceof createjs.DisplayObject){this._addManagedChild(n,h)}else{this._setState(n.state,h)}}var o=this.children;for(r=o.length-1;r>=0;r--){var u=o[r].id;if(this._managed[u]===1){this.removeChildAt(r);delete this._managed[u]}}};t._setState=function(t,e){if(!t){return}for(var i=t.length-1;i>=0;i--){var r=t[i];var s=r.t;var a=r.p;for(var n in a){s[n]=a[n]}this._addManagedChild(s,e)}};t._addManagedChild=function(t,e){if(t._off){return}this.addChildAt(t,0);if(t instanceof n){t._synchOffset=e;if(t.mode===n.INDEPENDENT&&t.autoReset&&!this._managed[t.id]){t._reset()}}this._managed[t.id]=2};t._getBounds=function(t,e){var i=this.DisplayObject_getBounds();if(!i){if(this.frameBounds){i=this._rectangle.copy(this.frameBounds[this.currentFrame])}}if(i){return this._transformBounds(i,t,e)}return this.Container__getBounds(t,e)};createjs.MovieClip=createjs.promote(n,"Container");function r(){throw"MovieClipPlugin cannot be instantiated."}r.priority=100;r.ID="MovieClip";r.install=function(){createjs.Tween._installPlugin(r)};r.init=function(t,e,i){if(e==="startPosition"&&t.target instanceof n){t._addPlugin(r)}};r.step=function(t,e,i){};r.change=function(t,e,i,r,s,a){if(i==="startPosition"){return s===1?e.props[i]:e.prev.props[i]}}})();this.createjs=this.createjs||{};(function(){"use strict";function T(){throw"SpriteSheetUtils cannot be instantiated"}var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(t.getContext){T._workingCanvas=t;T._workingContext=t.getContext("2d");t.width=t.height=1}T.extractFrame=function(t,e){if(isNaN(e)){e=t.getAnimation(e).frames[0]}var i=t.getFrame(e);if(!i){return null}var r=i.rect;var s=T._workingCanvas;s.width=r.width;s.height=r.height;T._workingContext.drawImage(i.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height);var a=document.createElement("img");a.src=s.toDataURL("image/png");return a};T.addFlippedFrames=createjs.deprecate(null,"SpriteSheetUtils.addFlippedFrames");T.mergeAlpha=createjs.deprecate(null,"SpriteSheetUtils.mergeAlpha");T._flip=function(t,e,i,r){var s=t._images;var a=T._workingCanvas;var n=T._workingContext;var h=s.length/e;for(var o=0;o<h;o++){var u=s[o];u.__tmp=o;n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,a.width+1,a.height+1);a.width=u.width;a.height=u.height;n.setTransform(i?-1:1,0,0,r?-1:1,i?u.width:0,r?u.height:0);n.drawImage(u,0,0);var l=document.createElement("img");l.src=a.toDataURL("image/png");l.width=u.width||u.naturalWidth;l.height=u.height||u.naturalHeight;s.push(l)}var c=t._frames;var f=c.length/e;for(o=0;o<f;o++){u=c[o];var d=u.rect.clone();l=s[u.image.__tmp+h*e];var _={image:l,rect:d,regX:u.regX,regY:u.regY};if(i){d.x=(l.width||l.naturalWidth)-d.x-d.width;_.regX=d.width-u.regX}if(r){d.y=(l.height||l.naturalHeight)-d.y-d.height;_.regY=d.height-u.regY}c.push(_)}var p="_"+(i?"h":"")+(r?"v":"");var v=t._animations;var g=t._data;var m=v.length/e;for(o=0;o<m;o++){var x=v[o];u=g[x];var b={name:x+p,speed:u.speed,next:u.next,frames:[]};if(u.next){b.next+=p}c=u.frames;for(var w=0,E=c.length;w<E;w++){b.frames.push(c[w]+f*e)}g[b.name]=b;v.push(b.name)}};createjs.SpriteSheetUtils=T})();this.createjs=this.createjs||{};(function(){"use strict";function w(t){this.EventDispatcher_constructor();this.maxWidth=2048;this.maxHeight=2048;this.spriteSheet=null;this.scale=1;this.padding=1;this.timeSlice=.3;this.progress=-1;this.framerate=t||0;this._frames=[];this._animations={};this._data=null;this._nextFrameIndex=0;this._index=0;this._timerID=null;this._scale=1}var t=createjs.extend(w,createjs.EventDispatcher);w.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";w.ERR_RUNNING="a build is already running";t.addFrame=function(t,e,i,r,s){if(this._data){throw w.ERR_RUNNING}var a=e||t.bounds||t.nominalBounds;if(!a&&t.getBounds){a=t.getBounds()}if(!a){return null}i=i||1;return this._frames.push({source:t,sourceRect:a,scale:i,funct:r,data:s,index:this._frames.length,height:a.height*i})-1};t.addAnimation=function(t,e,i,r){if(this._data){throw w.ERR_RUNNING}this._animations[t]={frames:e,next:i,speed:r}};t.addMovieClip=function(t,e,i,r,s,a){if(this._data){throw w.ERR_RUNNING}var n=t.frameBounds;var h=e||t.bounds||t.nominalBounds;if(!h&&t.getBounds){h=t.getBounds()}if(!h&&!n){return}var o,u,l=this._frames.length;var c=t.timeline.duration;for(o=0;o<c;o++){var f=n&&n[o]?n[o]:h;this.addFrame(t,f,i,this._setupMovieClipFrame,{i:o,f:r,d:s})}var d=t.timeline._labels;var _=[];for(var p in d){_.push({index:d[p],label:p})}if(_.length){_.sort(function(t,e){return t.index-e.index});for(o=0,u=_.length;o<u;o++){var v=_[o].label;var g=l+_[o].index;var m=l+(o==u-1?c:_[o+1].index);var x=[];for(var b=g;b<m;b++){x.push(b)}if(a){v=a(v,t,g,m);if(!v){continue}}this.addAnimation(v,x,true)}}};t.build=function(){if(this._data){throw w.ERR_RUNNING}this._startBuild();while(this._drawNext()){}this._endBuild();return this.spriteSheet};t.buildAsync=function(t){if(this._data){throw w.ERR_RUNNING}this.timeSlice=t;this._startBuild();var e=this;this._timerID=setTimeout(function(){e._run()},50-Math.max(.01,Math.min(.99,this.timeSlice||.3))*50)};t.stopAsync=function(){clearTimeout(this._timerID);this._data=null};t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."};t.toString=function(){return"[SpriteSheetBuilder]"};t._startBuild=function(){var t=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var e=[];this._data={images:[],frames:e,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();i.sort(function(t,e){return t.height<=e.height?-1:1});if(i[i.length-1].height+t*2>this.maxHeight){throw w.ERR_DIMENSIONS}var r=0,s=0;var a=0;while(i.length){var n=this._fillRow(i,r,a,e,t);if(n.w>s){s=n.w}r+=n.h;if(!n.h||!i.length){var h=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");h.width=this._getSize(s,this.maxWidth);h.height=this._getSize(r,this.maxHeight);this._data.images[a]=h;if(!n.h){s=r=0;a++}}}};t._setupMovieClipFrame=function(t,e){var i=t.actionsEnabled;t.actionsEnabled=false;t.gotoAndStop(e.i);t.actionsEnabled=i;e.f&&e.f(t,e.d,e.i)};t._getSize=function(t,e){var i=4;while(Math.pow(2,++i)<t){}return Math.min(e,Math.pow(2,i))};t._fillRow=function(t,e,i,r,s){var a=this.maxWidth;var n=this.maxHeight;e+=s;var h=n-e;var o=s;var u=0;for(var l=t.length-1;l>=0;l--){var c=t[l];var f=this._scale*c.scale;var d=c.sourceRect;var _=c.source;var p=Math.floor(f*d.x-s);var v=Math.floor(f*d.y-s);var g=Math.ceil(f*d.height+s*2);var m=Math.ceil(f*d.width+s*2);if(m>a){throw w.ERR_DIMENSIONS}if(g>h||o+m>a){continue}c.img=i;c.rect=new createjs.Rectangle(o,e,m,g);u=u||g;t.splice(l,1);r[c.index]=[o,e,m,g,i,Math.round(-p+f*_.regX-s),Math.round(-v+f*_.regY-s)];o+=m}return{w:o,h:u}};t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};t._run=function(){var t=Math.max(.01,Math.min(.99,this.timeSlice||.3))*50;var e=(new Date).getTime()+t;var i=false;while(e>(new Date).getTime()){if(!this._drawNext()){i=true;break}}if(i){this._endBuild()}else{var r=this;this._timerID=setTimeout(function(){r._run()},50-t)}var s=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var a=new createjs.Event("progress");a.progress=s;this.dispatchEvent(a)}};t._drawNext=function(){var t=this._frames[this._index];var e=t.scale*this._scale;var i=t.rect;var r=t.sourceRect;var s=this._data.images[t.img];var a=s.getContext("2d");t.funct&&t.funct(t.source,t.data);a.save();a.beginPath();a.rect(i.x,i.y,i.width,i.height);a.clip();a.translate(Math.ceil(i.x-r.x*e),Math.ceil(i.y-r.y*e));a.scale(e,e);t.source.draw(a);a.restore();return++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(w,"EventDispatcher")})();this.createjs=this.createjs||{};(function(){"use strict";function t(t){this.DisplayObject_constructor();if(typeof t=="string"){t=document.getElementById(t)}this.mouseEnabled=false;var e=t.style;e.position="absolute";e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%";this.htmlElement=t;this._oldProps=null;this._oldStage=null;this._drawAction=null}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){return this.htmlElement!=null};e.draw=function(t,e){return true};e.cache=function(){};e.uncache=function(){};e.updateCache=function(){};e.hitTest=function(){};e.localToGlobal=function(){};e.globalToLocal=function(){};e.localToLocal=function(){};e.clone=function(){throw"DOMElement cannot be cloned."};e.toString=function(){return"[DOMElement (name="+this.name+")]"};e._tick=function(t){var e=this.stage;if(e&&e!==this._oldStage){this._drawAction&&e.off("drawend",this._drawAction);this._drawAction=e.on("drawend",this._handleDrawEnd,this);this._oldStage=e}this.DisplayObject__tick(t)};e._handleDrawEnd=function(t){var e=this.htmlElement;if(!e){return}var i=e.style;var r=this.getConcatenatedDisplayProps(this._props),s=r.matrix;var a=r.visible?"visible":"hidden";if(a!=i.visibility){i.visibility=a}if(!r.visible){return}var n=this._oldProps,h=n&&n.matrix;var o=1e4;if(!h||!h.equals(s)){var u="matrix("+(s.a*o|0)/o+","+(s.b*o|0)/o+","+(s.c*o|0)/o+","+(s.d*o|0)/o+","+(s.tx+.5|0);i.transform=i.WebkitTransform=i.OTransform=i.msTransform=u+","+(s.ty+.5|0)+")";i.MozTransform=u+"px,"+(s.ty+.5|0)+"px)";if(!n){n=this._oldProps=new createjs.DisplayProps(true,null)}n.matrix.copy(s)}if(n.alpha!=r.alpha){i.opacity=""+(r.alpha*o|0)/o;n.alpha=r.alpha}};createjs.DOMElement=createjs.promote(t,"DisplayObject")})();this.createjs=this.createjs||{};(function(){"use strict";function t(){this.usesContext=false;this._multiPass=null;this.VTX_SHADER_BODY=null;this.FRAG_SHADER_BODY=null}var e=t.prototype;e.getBounds=function(t){return t};e.shaderParamSetup=function(t,e,i){};e.applyFilter=function(t,e,i,r,s,a,n,h){a=a||t;if(n==null){n=e}if(h==null){h=i}try{var o=t.getImageData(e,i,r,s)}catch(t){return false}if(this._applyFilter(o)){a.putImageData(o,n,h);return true}return false};e.toString=function(){return"[Filter]"};e.clone=function(){return new t};e._applyFilter=function(t){return true};createjs.Filter=t})();this.createjs=this.createjs||{};(function(){"use strict";function r(){this.width=undefined;this.height=undefined;this.x=undefined;this.y=undefined;this.scale=1;this.offX=0;this.offY=0;this.cacheID=0;this._filterOffX=0;this._filterOffY=0;this._cacheDataURLID=0;this._cacheDataURL=null;this._drawWidth=0;this._drawHeight=0}var t=r.prototype;r.getFilterBounds=function(t,e){if(!e){e=new createjs.Rectangle}var i=t.filters;var r=i&&i.length;if(!!r<=0){return e}for(var s=0;s<r;s++){var a=i[s];if(!a||!a.getBounds){continue}var n=a.getBounds();if(!n){continue}if(s==0){e.setValues(n.x,n.y,n.width,n.height)}else{e.extend(n.x,n.y,n.width,n.height)}}return e};t.toString=function(){return"[BitmapCache]"};t.define=function(t,e,i,r,s,a,n){if(!t){throw"No symbol to cache"}this._options=n;this.target=t;this.width=r>=1?r:1;this.height=s>=1?s:1;this.x=e||0;this.y=i||0;this.scale=a||1;this.update()};t.update=function(t){if(!this.target){throw"define() must be called before update()"}var e=r.getFilterBounds(this.target);var i=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+e.width;this._drawHeight=Math.ceil(this.height*this.scale)+e.height;if(!i||this._drawWidth!=i.width||this._drawHeight!=i.height){this._updateSurface()}this._filterOffX=e.x;this._filterOffY=e.y;this.offX=this.x*this.scale+this._filterOffX;this.offY=this.y*this.scale+this._filterOffY;this._drawToCache(t);this.cacheID=this.cacheID?this.cacheID+1:1};t.release=function(){if(this._webGLCache){if(!this._webGLCache.isCacheControlled){if(this.__lastRT){this.__lastRT=undefined}if(this.__rtA){this._webGLCache._killTextureObject(this.__rtA)}if(this.__rtB){this._webGLCache._killTextureObject(this.__rtB)}if(this.target&&this.target.cacheCanvas){this._webGLCache._killTextureObject(this.target.cacheCanvas)}}this._webGLCache=false}else{var t=this.target.stage;if(t instanceof createjs.StageGL){t.releaseTexture(this.target.cacheCanvas)}}this.target=this.target.cacheCanvas=null;this.cacheID=this._cacheDataURLID=this._cacheDataURL=undefined;this.width=this.height=this.x=this.y=this.offX=this.offY=0;this.scale=1};t.getCacheDataURL=function(){var t=this.target&&this.target.cacheCanvas;if(!t){return null}if(this.cacheID!=this._cacheDataURLID){this._cacheDataURLID=this.cacheID;this._cacheDataURL=t.toDataURL?t.toDataURL():null}return this._cacheDataURL};t.draw=function(t){if(!this.target){return false}t.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale);return true};t._updateSurface=function(){if(!this._options||!this._options.useGL){var t=this.target.cacheCanvas;if(!t){t=this.target.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")}t.width=this._drawWidth;t.height=this._drawHeight;return}if(!this._webGLCache){if(this._options.useGL==="stage"){if(!(this.target.stage&&this.target.stage.isWebGL)){var e="Cannot use 'stage' for cache because the object's parent stage is ";e+=this.target.stage?"non WebGL.":"not set, please addChild to the correct stage.";throw e}this.target.cacheCanvas=true;this._webGLCache=this.target.stage}else if(this._options.useGL==="new"){this.target.cacheCanvas=document.createElement("canvas");this._webGLCache=new createjs.StageGL(this.target.cacheCanvas,{antialias:true,transparent:true,autoPurge:-1});this._webGLCache.isCacheControlled=true}else if(this._options.useGL instanceof createjs.StageGL){this.target.cacheCanvas=true;this._webGLCache=this._options.useGL;this._webGLCache.isCacheControlled=true}else{throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL}}var t=this.target.cacheCanvas;var i=this._webGLCache;if(i.isCacheControlled){t.width=this._drawWidth;t.height=this._drawHeight;i.updateViewport(this._drawWidth,this._drawHeight)}if(this.target.filters){i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight);i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)}else{if(!i.isCacheControlled){i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)}}};t._drawToCache=function(t){var e=this.target.cacheCanvas;var i=this.target;var r=this._webGLCache;if(r){r.cacheDraw(i,i.filters,this);e=this.target.cacheCanvas;e.width=this._drawWidth;e.height=this._drawHeight}else{var s=e.getContext("2d");if(!t){s.clearRect(0,0,this._drawWidth+1,this._drawHeight+1)}s.save();s.globalCompositeOperation=t;s.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY);s.translate(-this.x,-this.y);i.draw(s,true);s.restore();if(i.filters&&i.filters.length){this._applyFilters(s)}}e._invalid=true};t._applyFilters=function(t){var e=this.target.filters;var i=this._drawWidth;var r=this._drawHeight;var s;var a=0,n=e[a];do{if(n.usesContext){if(s){t.putImageData(s,0,0);s=null}n.applyFilter(t,0,0,i,r)}else{if(!s){s=t.getImageData(0,0,i,r)}n._applyFilter(s)}n=n._multiPass!==null?n._multiPass:e[++a]}while(n);if(s){t.putImageData(s,0,0)}};createjs.BitmapCache=r})();this.createjs=this.createjs||{};(function(){"use strict";function G(t,e,i){this.Filter_constructor();this._blurX=t;this._blurXTable=[];this._lastBlurX=null;this._blurY=e;this._blurYTable=[];this._lastBlurY=null;this._quality;this._lastQuality=null;this.FRAG_SHADER_TEMPLATE="uniform float xWeight[{{blurX}}];"+"uniform float yWeight[{{blurY}}];"+"uniform vec2 textureOffset;"+"void main(void) {"+"vec4 color = vec4(0.0);"+"float xAdj = ({{blurX}}.0-1.0)/2.0;"+"float yAdj = ({{blurY}}.0-1.0)/2.0;"+"vec2 sampleOffset;"+"for(int i=0; i<{{blurX}}; i++) {"+"for(int j=0; j<{{blurY}}; j++) {"+"sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));"+"color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);"+"}"+"}"+"gl_FragColor = color.rgba;"+"}";if(isNaN(i)||i<1){i=1}this.setQuality(i|0)}var t=createjs.extend(G,createjs.Filter);t.getBlurX=function(){return this._blurX};t.getBlurY=function(){return this._blurY};t.setBlurX=function(t){if(isNaN(t)||t<0){t=0}this._blurX=t};t.setBlurY=function(t){if(isNaN(t)||t<0){t=0}this._blurY=t};t.getQuality=function(){return this._quality};t.setQuality=function(t){if(isNaN(t)||t<0){t=0}this._quality=t|0};t._getShader=function(){var t=this._lastBlurX!==this._blurX;var e=this._lastBlurY!==this._blurY;var i=this._lastQuality!==this._quality;if(t||e||i){if(t||i){this._blurXTable=this._getTable(this._blurX*this._quality)}if(e||i){this._blurYTable=this._getTable(this._blurY*this._quality)}this._updateShader();this._lastBlurX=this._blurX;this._lastBlurY=this._blurY;this._lastQuality=this._quality;return undefined}return this._compiledShader};t._setShader=function(){this._compiledShader};try{Object.defineProperties(t,{blurX:{get:t.getBlurX,set:t.setBlurX},blurY:{get:t.getBlurY,set:t.setBlurY},quality:{get:t.getQuality,set:t.setQuality},_builtShader:{get:t._getShader,set:t._setShader}})}catch(t){console.log(t)}t._getTable=function(t){var e=4.2;if(t<=1){return[1]}var i=[];var r=Math.ceil(t*2);r+=r%2?0:1;var s=r/2|0;for(var a=-s;a<=s;a++){var n=a/s*e;i.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-(Math.pow(n,2)/4)))}var h=i.reduce(function(t,e){return t+e});return i.map(function(t,e,i){return t/h})};t._updateShader=function(){if(this._blurX===undefined||this._blurY===undefined){return}var t=this.FRAG_SHADER_TEMPLATE;t=t.replace(/\{\{blurX\}\}/g,this._blurXTable.length.toFixed(0));t=t.replace(/\{\{blurY\}\}/g,this._blurYTable.length.toFixed(0));this.FRAG_SHADER_BODY=t};t.shaderParamSetup=function(t,e,i){t.uniform1fv(t.getUniformLocation(i,"xWeight"),this._blurXTable);t.uniform1fv(t.getUniformLocation(i,"yWeight"),this._blurYTable);t.uniform2f(t.getUniformLocation(i,"textureOffset"),2/(e._viewportWidth*this._quality),2/(e._viewportHeight*this._quality))};G.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];G.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];t.getBounds=function(t){var e=this.blurX|0,i=this.blurY|0;if(e<=0&&i<=0){return t}var r=Math.pow(this.quality,.2);return(t||new createjs.Rectangle).pad(i*r+1,e*r+1,i*r+1,e*r+1)};t.clone=function(){return new G(this.blurX,this.blurY,this.quality)};t.toString=function(){return"[BlurFilter]"};t._applyFilter=function(t){var e=this._blurX>>1;if(isNaN(e)||e<0)return false;var i=this._blurY>>1;if(isNaN(i)||i<0)return false;if(e==0&&i==0)return false;var r=this.quality;if(isNaN(r)||r<1)r=1;r|=0;if(r>3)r=3;if(r<1)r=1;var s=t.data;var a=0,n=0,h=0,o=0,u=0,l=0,c=0,f=0,d=0,_=0,p=0,v=0,g=0,m=0,x=0;var b=e+e+1|0;var w=i+i+1|0;var E=t.width|0;var T=t.height|0;var R=E-1|0;var y=T-1|0;var C=e+1|0;var S=i+1|0;var D={r:0,b:0,g:0,a:0};var A=D;for(h=1;h<b;h++){A=A.n={r:0,b:0,g:0,a:0}}A.n=D;var I={r:0,b:0,g:0,a:0};var M=I;for(h=1;h<w;h++){M=M.n={r:0,b:0,g:0,a:0}}M.n=I;var P=null;var L=G.MUL_TABLE[e]|0;var O=G.SHG_TABLE[e]|0;var B=G.MUL_TABLE[i]|0;var k=G.SHG_TABLE[i]|0;while(r-- >0){c=l=0;var j=L;var F=O;for(n=T;--n>-1;){f=C*(v=s[l|0]);d=C*(g=s[l+1|0]);_=C*(m=s[l+2|0]);p=C*(x=s[l+3|0]);A=D;for(h=C;--h>-1;){A.r=v;A.g=g;A.b=m;A.a=x;A=A.n}for(h=1;h<C;h++){o=l+((R<h?R:h)<<2)|0;f+=A.r=s[o];d+=A.g=s[o+1];_+=A.b=s[o+2];p+=A.a=s[o+3];A=A.n}P=D;for(a=0;a<E;a++){s[l++]=f*j>>>F;s[l++]=d*j>>>F;s[l++]=_*j>>>F;s[l++]=p*j>>>F;o=c+((o=a+e+1)<R?o:R)<<2;f-=P.r-(P.r=s[o]);d-=P.g-(P.g=s[o+1]);_-=P.b-(P.b=s[o+2]);p-=P.a-(P.a=s[o+3]);P=P.n}c+=E}j=B;F=k;for(a=0;a<E;a++){l=a<<2|0;f=S*(v=s[l])|0;d=S*(g=s[l+1|0])|0;_=S*(m=s[l+2|0])|0;p=S*(x=s[l+3|0])|0;M=I;for(h=0;h<S;h++){M.r=v;M.g=g;M.b=m;M.a=x;M=M.n}u=E;for(h=1;h<=i;h++){l=u+a<<2;f+=M.r=s[l];d+=M.g=s[l+1];_+=M.b=s[l+2];p+=M.a=s[l+3];M=M.n;if(h<y){u+=E}}l=a;P=I;if(r>0){for(n=0;n<T;n++){o=l<<2;s[o+3]=x=p*j>>>F;if(x>0){s[o]=f*j>>>F;s[o+1]=d*j>>>F;s[o+2]=_*j>>>F}else{s[o]=s[o+1]=s[o+2]=0}o=a+((o=n+S)<y?o:y)*E<<2;f-=P.r-(P.r=s[o]);d-=P.g-(P.g=s[o+1]);_-=P.b-(P.b=s[o+2]);p-=P.a-(P.a=s[o+3]);P=P.n;l+=E}}else{for(n=0;n<T;n++){o=l<<2;s[o+3]=x=p*j>>>F;if(x>0){x=255/x;s[o]=(f*j>>>F)*x;s[o+1]=(d*j>>>F)*x;s[o+2]=(_*j>>>F)*x}else{s[o]=s[o+1]=s[o+2]=0}o=a+((o=n+S)<y?o:y)*E<<2;f-=P.r-(P.r=s[o]);d-=P.g-(P.g=s[o+1]);_-=P.b-(P.b=s[o+2]);p-=P.a-(P.a=s[o+3]);P=P.n;l+=E}}}}return true};createjs.BlurFilter=createjs.promote(G,"Filter")})();this.createjs=this.createjs||{};(function(){"use strict";function e(t){this.Filter_constructor();this.alphaMap=t;this._alphaMap=null;this._mapData=null;this._mapTexture=null;this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;"+"void main(void) {"+"vec4 color = texture2D(uSampler, vRenderCoord);"+"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);"+"gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));"+"}"}var t=createjs.extend(e,createjs.Filter);t.shaderParamSetup=function(t,e,i){if(!this._mapTexture){this._mapTexture=t.createTexture()}t.activeTexture(t.TEXTURE1);t.bindTexture(t.TEXTURE_2D,this._mapTexture);e.setTextureParams(t);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.alphaMap);t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)};t.clone=function(){var t=new e(this.alphaMap);t._alphaMap=this._alphaMap;t._mapData=this._mapData;return t};t.toString=function(){return"[AlphaMapFilter]"};t._applyFilter=function(t){if(!this.alphaMap){return true}if(!this._prepAlphaMap()){return false}var e=t.data;var i=this._mapData;for(var r=0,s=e.length;r<s;r+=4){e[r+3]=i[r]||0}return true};t._prepAlphaMap=function(){if(!this.alphaMap){return false}if(this.alphaMap==this._alphaMap&&this._mapData){return true}this._mapData=null;var t=this._alphaMap=this.alphaMap;var e=t;var i;if(t instanceof HTMLCanvasElement){i=e.getContext("2d")}else{e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.width=t.width;e.height=t.height;i=e.getContext("2d");i.drawImage(t,0,0)}try{var r=i.getImageData(0,0,t.width,t.height)}catch(t){return false}this._mapData=r.data;return true};createjs.AlphaMapFilter=createjs.promote(e,"Filter")})();this.createjs=this.createjs||{};(function(){"use strict";function t(t){this.Filter_constructor();this.mask=t;this.usesContext=true;this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;"+"void main(void) {"+"vec4 color = texture2D(uSampler, vRenderCoord);"+"vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);"+"gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);"+"}"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){if(!this._mapTexture){this._mapTexture=t.createTexture()}t.activeTexture(t.TEXTURE1);t.bindTexture(t.TEXTURE_2D,this._mapTexture);e.setTextureParams(t);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.mask);t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)};e.applyFilter=function(t,e,i,r,s,a,n,h){if(!this.mask){return true}a=a||t;if(n==null){n=e}if(h==null){h=i}a.save();if(t!=a){return false}a.globalCompositeOperation="destination-in";a.drawImage(this.mask,n,h);a.restore();return true};e.clone=function(){return new t(this.mask)};e.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(t,"Filter")})();this.createjs=this.createjs||{};(function(){"use strict";function t(t,e,i,r,s,a,n,h){this.Filter_constructor();this.redMultiplier=t!=null?t:1;this.greenMultiplier=e!=null?e:1;this.blueMultiplier=i!=null?i:1;this.alphaMultiplier=r!=null?r:1;this.redOffset=s||0;this.greenOffset=a||0;this.blueOffset=n||0;this.alphaOffset=h||0;this.FRAG_SHADER_BODY="uniform vec4 uColorMultiplier;"+"uniform vec4 uColorOffset;"+"void main(void) {"+"vec4 color = texture2D(uSampler, vRenderCoord);"+"gl_FragColor = (color * uColorMultiplier) + uColorOffset;"+"}"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){t.uniform4f(t.getUniformLocation(i,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier);t.uniform4f(t.getUniformLocation(i,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)};e.toString=function(){return"[ColorFilter]"};e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};e._applyFilter=function(t){var e=t.data;var i=e.length;for(var r=0;r<i;r+=4){e[r]=e[r]*this.redMultiplier+this.redOffset;e[r+1]=e[r+1]*this.greenMultiplier+this.greenOffset;e[r+2]=e[r+2]*this.blueMultiplier+this.blueOffset;e[r+3]=e[r+3]*this.alphaMultiplier+this.alphaOffset}return true};createjs.ColorFilter=createjs.promote(t,"Filter")})();this.createjs=this.createjs||{};(function(){"use strict";function r(t,e,i,r){this.setColor(t,e,i,r)}var t=r.prototype;r.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];r.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];r.LENGTH=r.IDENTITY_MATRIX.length;t.setColor=function(t,e,i,r){return this.reset().adjustColor(t,e,i,r)};t.reset=function(){return this.copy(r.IDENTITY_MATRIX)};t.adjustColor=function(t,e,i,r){this.adjustHue(r);this.adjustContrast(e);this.adjustBrightness(t);return this.adjustSaturation(i)};t.adjustBrightness=function(t){if(t==0||isNaN(t)){return this}t=this._cleanValue(t,255);this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]);return this};t.adjustContrast=function(t){if(t==0||isNaN(t)){return this}t=this._cleanValue(t,100);var e;if(t<0){e=127+t/100*127}else{e=t%1;if(e==0){e=r.DELTA_INDEX[t]}else{e=r.DELTA_INDEX[t<<0]*(1-e)+r.DELTA_INDEX[(t<<0)+1]*e}e=e*127+127}this._multiplyMatrix([e/127,0,0,0,.5*(127-e),0,e/127,0,0,.5*(127-e),0,0,e/127,0,.5*(127-e),0,0,0,1,0,0,0,0,0,1]);return this};t.adjustSaturation=function(t){if(t==0||isNaN(t)){return this}t=this._cleanValue(t,100);var e=1+(t>0?3*t/100:t/100);var i=.3086;var r=.6094;var s=.082;this._multiplyMatrix([i*(1-e)+e,r*(1-e),s*(1-e),0,0,i*(1-e),r*(1-e)+e,s*(1-e),0,0,i*(1-e),r*(1-e),s*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]);return this};t.adjustHue=function(t){if(t==0||isNaN(t)){return this}t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t);var i=Math.sin(t);var r=.213;var s=.715;var a=.072;this._multiplyMatrix([r+e*(1-r)+i*-r,s+e*-s+i*-s,a+e*-a+i*(1-a),0,0,r+e*-r+i*.143,s+e*(1-s)+i*.14,a+e*-a+i*-.283,0,0,r+e*-r+i*-(1-r),s+e*-s+i*s,a+e*(1-a)+i*a,0,0,0,0,0,1,0,0,0,0,0,1]);return this};t.concat=function(t){t=this._fixMatrix(t);if(t.length!=r.LENGTH){return this}this._multiplyMatrix(t);return this};t.clone=function(){return(new r).copy(this)};t.toArray=function(){var t=[];for(var e=0,i=r.LENGTH;e<i;e++){t[e]=this[e]}return t};t.copy=function(t){var e=r.LENGTH;for(var i=0;i<e;i++){this[i]=t[i]}return this};t.toString=function(){return"[ColorMatrix]"};t._multiplyMatrix=function(t){var e,i,r,s=[];for(e=0;e<5;e++){for(i=0;i<5;i++){s[i]=this[i+e*5]}for(i=0;i<5;i++){var a=0;for(r=0;r<5;r++){a+=t[i+r*5]*s[r]}this[i+e*5]=a}}};t._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))};t._fixMatrix=function(t){if(t instanceof r){t=t.toArray()}if(t.length<r.LENGTH){t=t.slice(0,t.length).concat(r.IDENTITY_MATRIX.slice(t.length,r.LENGTH))}else if(t.length>r.LENGTH){t=t.slice(0,r.LENGTH)}return t};createjs.ColorMatrix=r})();this.createjs=this.createjs||{};(function(){"use strict";function t(t){this.Filter_constructor();this.matrix=t;this.FRAG_SHADER_BODY="uniform mat4 uColorMatrix;"+"uniform vec4 uColorMatrixOffset;"+"void main(void) {"+"vec4 color = texture2D(uSampler, vRenderCoord);"+"mat4 m = uColorMatrix;"+"vec4 newColor = vec4(0,0,0,0);"+"newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];"+"newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];"+"newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];"+"newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];"+"gl_FragColor = newColor + uColorMatrixOffset;"+"}"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){var r=this.matrix;var s=new Float32Array([r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]]);t.uniformMatrix4fv(t.getUniformLocation(i,"uColorMatrix"),false,s);t.uniform4f(t.getUniformLocation(i,"uColorMatrixOffset"),r[4]/255,r[9]/255,r[14]/255,r[19]/255)};e.toString=function(){return"[ColorMatrixFilter]"};e.clone=function(){return new t(this.matrix)};e._applyFilter=function(t){var e=t.data;var i=e.length;var r,s,a,n;var h=this.matrix;var o=h[0],u=h[1],l=h[2],c=h[3],f=h[4];var d=h[5],_=h[6],p=h[7],v=h[8],g=h[9];var m=h[10],x=h[11],b=h[12],w=h[13],E=h[14];var T=h[15],R=h[16],y=h[17],C=h[18],S=h[19];for(var D=0;D<i;D+=4){r=e[D];s=e[D+1];a=e[D+2];n=e[D+3];e[D]=r*o+s*u+a*l+n*c+f;e[D+1]=r*d+s*_+a*p+n*v+g;e[D+2]=r*m+s*x+a*b+n*w+E;e[D+3]=r*T+s*R+a*y+n*C+S}return true};createjs.ColorMatrixFilter=createjs.promote(t,"Filter")})();this.createjs=this.createjs||{};(function(){"use strict";function r(){throw"Touch cannot be instantiated"}r.isSupported=function(){return!!("ontouchstart"in window||window.navigator["msPointerEnabled"]&&window.navigator["msMaxTouchPoints"]>0||window.navigator["pointerEnabled"]&&window.navigator["maxTouchPoints"]>0)};r.enable=function(t,e,i){if(!t||!t.canvas||!r.isSupported()){return false}if(t.__touch){return true}t.__touch={pointers:{},multitouch:!e,preventDefault:!i,count:0};if("ontouchstart"in window){r._IOS_enable(t)}else if(window.navigator["msPointerEnabled"]||window.navigator["pointerEnabled"]){r._IE_enable(t)}return true};r.disable=function(t){if(!t){return}if("ontouchstart"in window){r._IOS_disable(t)}else if(window.navigator["msPointerEnabled"]||window.navigator["pointerEnabled"]){r._IE_disable(t)}delete t.__touch};r._IOS_enable=function(e){var t=e.canvas;var i=e.__touch.f=function(t){r._IOS_handleEvent(e,t)};t.addEventListener("touchstart",i,false);t.addEventListener("touchmove",i,false);t.addEventListener("touchend",i,false);t.addEventListener("touchcancel",i,false)};r._IOS_disable=function(t){var e=t.canvas;if(!e){return}var i=t.__touch.f;e.removeEventListener("touchstart",i,false);e.removeEventListener("touchmove",i,false);e.removeEventListener("touchend",i,false);e.removeEventListener("touchcancel",i,false)};r._IOS_handleEvent=function(t,e){if(!t){return}if(t.__touch.preventDefault){e.preventDefault&&e.preventDefault()}var i=e.changedTouches;var r=e.type;for(var s=0,a=i.length;s<a;s++){var n=i[s];var h=n.identifier;if(n.target!=t.canvas){continue}if(r=="touchstart"){this._handleStart(t,h,e,n.pageX,n.pageY)}else if(r=="touchmove"){this._handleMove(t,h,e,n.pageX,n.pageY)}else if(r=="touchend"||r=="touchcancel"){this._handleEnd(t,h,e)}}};r._IE_enable=function(e){var t=e.canvas;var i=e.__touch.f=function(t){r._IE_handleEvent(e,t)};if(window.navigator["pointerEnabled"]===undefined){t.addEventListener("MSPointerDown",i,false);window.addEventListener("MSPointerMove",i,false);window.addEventListener("MSPointerUp",i,false);window.addEventListener("MSPointerCancel",i,false);if(e.__touch.preventDefault){t.style.msTouchAction="none"}}else{t.addEventListener("pointerdown",i,false);window.addEventListener("pointermove",i,false);window.addEventListener("pointerup",i,false);window.addEventListener("pointercancel",i,false);if(e.__touch.preventDefault){t.style.touchAction="none"}}e.__touch.activeIDs={}};r._IE_disable=function(t){var e=t.__touch.f;if(window.navigator["pointerEnabled"]===undefined){window.removeEventListener("MSPointerMove",e,false);window.removeEventListener("MSPointerUp",e,false);window.removeEventListener("MSPointerCancel",e,false);if(t.canvas){t.canvas.removeEventListener("MSPointerDown",e,false)}}else{window.removeEventListener("pointermove",e,false);window.removeEventListener("pointerup",e,false);window.removeEventListener("pointercancel",e,false);if(t.canvas){t.canvas.removeEventListener("pointerdown",e,false)}}};r._IE_handleEvent=function(t,e){if(!t){return}if(t.__touch.preventDefault){e.preventDefault&&e.preventDefault()}var i=e.type;var r=e.pointerId;var s=t.__touch.activeIDs;if(i=="MSPointerDown"||i=="pointerdown"){if(e.srcElement!=t.canvas){return}s[r]=true;this._handleStart(t,r,e,e.pageX,e.pageY)}else if(s[r]){if(i=="MSPointerMove"||i=="pointermove"){this._handleMove(t,r,e,e.pageX,e.pageY)}else if(i=="MSPointerUp"||i=="MSPointerCancel"||i=="pointerup"||i=="pointercancel"){delete s[r];this._handleEnd(t,r,e)}}};r._handleStart=function(t,e,i,r,s){var a=t.__touch;if(!a.multitouch&&a.count){return}var n=a.pointers;if(n[e]){return}n[e]=true;a.count++;t._handlePointerDown(e,i,r,s)};r._handleMove=function(t,e,i,r,s){if(!t.__touch.pointers[e]){return}t._handlePointerMove(e,i,r,s)};r._handleEnd=function(t,e,i){var r=t.__touch;var s=r.pointers;if(!s[e]){return}r.count--;t._handlePointerUp(e,i,true);delete s[e]};createjs.Touch=r})();this.createjs=this.createjs||{};(function(){"use strict";var t=createjs.EaselJS=createjs.EaselJS||{};t.version="1.0.0";t.buildDate="Thu, 14 Sep 2017 19:47:53 GMT"})();